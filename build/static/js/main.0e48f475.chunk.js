(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{201:function(e,t){e.exports="data:image/png;base64,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"},202:function(e,t,a){e.exports=a.p+"static/media/logo.4d62abc3.svg"},217:function(e,t,a){e.exports=a(423)},279:function(e,t,a){},297:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),l=a.n(i),o=a(12),s=a(13),c=a(15),d=a(14),u=a(16),m=a(440),h=a(443),p=a(425),f=a(439),g=(a(222),a(61)),y=function(e){var t=e.children;Object(g.a)(e,["children"]);return r.a.createElement("div",{className:"page page-login"},r.a.createElement("div",{className:"main"},t))},b=function(e){var t=e.component,a=Object(g.a)(e,["component"]);return r.a.createElement(p.a,Object.assign({},a,{render:function(e){return r.a.createElement(y,null,r.a.createElement(t,e))}}))},E=a(427),k=a(426),v=a(163),S=a(11),I=a(442),O=a(158),R=a.n(O),C=function(){function e(){Object(o.a)(this,e),this.login=function(e,t){}}return Object(s.a)(e,null,[{key:"authenticateUser",value:function(e){localStorage.setItem("token",e)}},{key:"isUserAuthenticated",value:function(){return null!==localStorage.getItem("token")}},{key:"deauthenticateUser",value:function(){localStorage.removeItem("token")}},{key:"setToken",value:function(e){localStorage.setItem("token",e)}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"getProfile",value:function(){return R()(this.getToken())}},{key:"isTokenExpired",value:function(e){try{return R()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}}]),e}();C.hasRole=function(e,t){return t.some(function(t){return e.roles.includes(t)})},C.getTitle=function(){return C.hasRole(C.getProfile(),["SUPER_ADMIN"])?"Admin":C.hasRole(C.getProfile(),["DATA_ENTRY_ADMIN"])?"Data-admin":C.hasRole(C.getProfile(),["PO_ADMIN"])?"PO-admin":C.hasRole(C.getProfileI(),["DELIVERY_ADMIN"])?"Delivery-admin":"User"};var j=C,D=v.a.SubMenu,x=Object(I.a)(function(e){var t=e.history;return r.a.createElement(v.a,{key:"user",mode:"horizontal",onClick:function(){j.deauthenticateUser(),t.push("/")}},r.a.createElement(D,{title:r.a.createElement(n.Fragment,null,r.a.createElement("span",{style:{color:"#999",marginRight:4}},j.getTitle(),":"),r.a.createElement("span",null,j.getProfile().name))},r.a.createElement(v.a.Item,{key:"SignOut"},r.a.createElement("span",null,"Sign out"))))}),N=a(201),A=a.n(N),M=(a(279),k.a.Header),w=k.a.Sider,T=k.a.Content,L=k.a.Footer,F=v.a.SubMenu,Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.state={collapsed:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(k.a,null,r.a.createElement(w,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,breakpoint:"lg",width:256,theme:"dark"},r.a.createElement("div",{className:"brand"},r.a.createElement("div",{className:"logo",id:"logo"},r.a.createElement(E.a,{to:"/"},r.a.createElement("img",{src:A.a,alt:"logo"}),this.state.collapsed?null:r.a.createElement("h1",null,"Fingertips Admin")))),r.a.createElement("div",{className:"menuContainer"},r.a.createElement(v.a,{key:"mainMenu",mode:"inline",defaultSelectedKeys:["1"],theme:"dark"},r.a.createElement(F,{key:"orders",title:r.a.createElement("span",null,r.a.createElement(S.a,{type:"select"}),r.a.createElement("span",null,"Packing List"))},j.hasRole(j.getProfile(),["SUPER_ADMIN","DATA_ENTRY_ADMIN"])&&r.a.createElement(v.a.Item,{key:"1"},r.a.createElement(E.a,{to:"/purchase-orders/add"},r.a.createElement(S.a,{type:"plus-square"}),r.a.createElement("span",null,"Create Packing List"))),r.a.createElement(v.a.Item,{key:"2"},r.a.createElement(E.a,{to:"/purchase-orders/list"},r.a.createElement(S.a,{type:"hdd"}),r.a.createElement("span",null,"View Packing List")))),r.a.createElement(F,{key:"materialRequests",title:r.a.createElement("span",null,r.a.createElement(S.a,{type:"schedule"}),r.a.createElement("span",null,"Meterial Request"))},j.hasRole(j.getProfile(),["SUPER_ADMIN","DATA_ENTRY_ADMIN"])&&r.a.createElement(v.a.Item,{key:"sub1-1"},r.a.createElement(E.a,{to:"/material-request/add"},r.a.createElement("span",null,"Add Request"))),r.a.createElement(v.a.Item,{key:"sub1-2"},r.a.createElement(E.a,{to:"/material-request/list"},r.a.createElement("span",null,"View Requests")))),r.a.createElement(F,{key:"deliveries",title:r.a.createElement("span",null,r.a.createElement(S.a,{type:"car"}),r.a.createElement("span",null,"Deliveries"))},r.a.createElement(v.a.Item,{key:"deliveryRequests"},r.a.createElement(E.a,{to:"/delivery-requests"},r.a.createElement("span",null,"Delivery Requests"))),r.a.createElement(v.a.Item,{key:"deliveryList"},r.a.createElement(E.a,{to:"/deliveries"},r.a.createElement("span",null,"Delivery List")))),r.a.createElement(v.a.Item,{key:"4"},r.a.createElement(E.a,{to:"/items"},r.a.createElement(S.a,{type:"database"}),r.a.createElement("span",null,"Material List"))),j.hasRole(j.getProfile(),["SUPER_ADMIN"])&&r.a.createElement(v.a.Item,{key:"5"},r.a.createElement(E.a,{to:"/suppliers"},r.a.createElement(S.a,{type:"shopping-cart"}),r.a.createElement("span",null,"Suppliers"))),j.hasRole(j.getProfile(),["SUPER_ADMIN"])&&r.a.createElement(v.a.Item,{key:"6"},r.a.createElement(E.a,{to:"/packing-types"},r.a.createElement(S.a,{type:"inbox"}),r.a.createElement("span",null,"Packing Types"))),j.hasRole(j.getProfile(),["SUPER_ADMIN"])&&r.a.createElement(v.a.Item,{key:"7"},r.a.createElement(E.a,{to:"/lot-numbers"},r.a.createElement(S.a,{type:"inbox"}),r.a.createElement("span",null,"LOT Numbers(Merge)"))),j.hasRole(j.getProfile(),["SUPER_ADMIN"])&&r.a.createElement(v.a.Item,{key:"8"},r.a.createElement(E.a,{to:"/roles"},r.a.createElement(S.a,{type:"lock"}),r.a.createElement("span",null,"User Roles"))),j.hasRole(j.getProfile(),["SUPER_ADMIN"])&&r.a.createElement(v.a.Item,{key:"9"},r.a.createElement(E.a,{to:"/users"},r.a.createElement(S.a,{type:"user"}),r.a.createElement("span",null,"Users"))),r.a.createElement(v.a.Item,{key:"10"},r.a.createElement(E.a,{to:"/stocks"},r.a.createElement(S.a,{type:"stock"}),r.a.createElement("span",null,"Stocks")))))),r.a.createElement(k.a,null,r.a.createElement(M,{style:{background:"#fff",padding:0}},r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"trigger"},r.a.createElement(S.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle})),r.a.createElement("div",{className:"right"},r.a.createElement(x,null)))),r.a.createElement(T,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},this.props.children),r.a.createElement(L,{style:{textAlign:"center"}},"Fingertips Admin \xa9 2019 Bottleneck Solutions")))}}]),t}(n.Component),V=function(e){var t=e.component,a=Object(g.a)(e,["component"]);return r.a.createElement(p.a,Object.assign({},a,{render:function(e){return j.loggedIn()?r.a.createElement(Y,null,r.a.createElement(t,e)):r.a.createElement(f.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},P=a(433),B=a(428),q=a(213),W=a(88),U=a(43),z=a(4),K=a.n(z),_=function(e){e.links,e.copyright;return r.a.createElement("footer",null,r.a.createElement("div",null,"Fingertips Admin \xa9 2019 Bottleneck Solutions"))},G=a(202),Q=a.n(G),J=(a(297),P.a.Item),X=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1,loginErrorVisible:!1},a.handleOk=function(){a.props.form.validateFieldsAndScroll(function(e,t){e||K.a.post("/login",{email:t.email,password:t.password}).then(function(e){e.data&&(j.setToken(e.data.token),a.setState({redirectToReferrer:!0}))}).catch(function(e){a.setState({loginErrorVisible:!0})})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=(this.props.location.state||{from:{pathname:"/"}}).from,a=this.state,i=a.redirectToReferrer,l=a.loginErrorVisible;return i?r.a.createElement(f.a,{to:t}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"LoginForm"},r.a.createElement("div",{className:"LoginForm-logo"},r.a.createElement("img",{alt:"logo",src:Q.a}),r.a.createElement("span",null,"Fingertips Admin")),l&&r.a.createElement(B.a,{message:"Bad credentials",type:"error",showIcon:!0,style:{marginBottom:10}}),r.a.createElement("form",null,r.a.createElement(J,{hasFeedback:!0},e("email",{rules:[{required:!0}]})(r.a.createElement(q.a,{onPressEnter:this.handleOk,placeholder:"Email address"}))),r.a.createElement(J,{hasFeedback:!0},e("password",{rules:[{required:!0}]})(r.a.createElement(q.a,{type:"password",onPressEnter:this.handleOk,placeholder:"Password"}))),r.a.createElement(W.a,null,r.a.createElement(U.a,{type:"primary",onClick:this.handleOk},"Sign in")))),r.a.createElement("div",{className:"footer"},r.a.createElement(_,null)))}}]),t}(n.Component),Z=P.a.create()(X),H=function(){return r.a.createElement("div",null,"Dashboard Page")},$=a(66),ee=a(24),te=a(438),ae=a(444),ne=a(437),re=a(214),ie=a(432),le=a(49),oe=a(431),se=a(429),ce=a(430),de=a(125),ue=a(436),me={"Content-Type":"application/json"};j.getToken()&&(me.Authorization="Bearer ".concat(j.getToken()));var he=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={expand:!1,searchResults:[],loading:!1,search:!1},a.getFields=function(){var e=a.props.form.getFieldDecorator,t=[];return t.push(r.a.createElement(le.a,{span:16,key:"code"},r.a.createElement(P.a.Item,{label:"Material Number"},e("code")(r.a.createElement(q.a,{placeholder:"Material #"}))))),t},a.handleSubmit=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.setState({loading:!0,search:!0}),K.a.post("/item-categories/filter",t,{headers:me}).then(function(e){e.data&&a.setState({searchResults:e.data.data,loading:!1})}))})},a.handleReset=function(){a.props.form.resetFields(),a.setState({searchResults:[]})},a.toggle=function(){var e=a.state.expand;a.setState({expand:!e})},a.handleItemClick=function(e){a.props.onItemClick(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,a=e.visible,n=e.onAddItem,i=this.state.loading,l=[{title:"Item Code",dataIndex:"code",key:"code"},{title:"Name",dataIndex:"name",key:"name"},{title:"Packing Type",dataIndex:"packingType",key:"packingType",render:function(e){return e.name}},{title:"",key:"operation",render:function(e,t){return r.a.createElement(U.a,{type:"primary",onClick:function(e){e.stopPropagation(),n(t)},icon:"plus"})}}];return r.a.createElement(ue.a,{title:"Search and Add Material Item",width:720,onClose:t,visible:a,style:{overflow:"auto",height:"calc(100% - 108px)",paddingBottom:"108px"}},r.a.createElement(P.a,{name:"search",className:"ant-advanced-search-form",onSubmit:this.handleSubmit},r.a.createElement(W.a,{gutter:24},this.getFields()),r.a.createElement(W.a,null,r.a.createElement(le.a,{span:24,style:{textAlign:"right"}},r.a.createElement(U.a,{type:"primary",htmlType:"submit"},"Search"),r.a.createElement(U.a,{style:{marginLeft:8},onClick:this.handleReset},"Clear"),r.a.createElement("a",{style:{marginLeft:8,fontSize:12},onClick:this.toggle},"Collapse ",r.a.createElement(S.a,{type:this.state.expand?"up":"down"}))))),r.a.createElement("div",{className:"search-result-list"},r.a.createElement(de.a,{tip:"Loading...",spinning:i},this.state.searchResults.length>0&&r.a.createElement(ce.a,{loading:this.state.loading,rowKey:"_id",columns:l,dataSource:this.state.searchResults,pagination:!1}))))}}]),t}(n.Component),pe=P.a.create()(he),fe={"Content-Type":"application/json"};j.getToken()&&(fe.Authorization="Bearer ".concat(j.getToken()));var ge=0,ye=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).itemIndex=0,a.state={itemList:[],searchResults:[],searchVisible:!1,stockItems:[],selectedRowKeys:[],stockLoading:!1},a.createMaterialRequest=function(e){K.a.post("/material-requests",e,{headers:fe}).then(function(e){a.props.history.push("/material-request/list")})},a.getMaterialRequests=function(){K.a.get("/material-requests",{headers:fe}).then(function(e){e.data&&a.setState({materialRequests:e.data.data})}).catch(function(e){return console.log(e)})},a.remove=function(e){var t=a.props.form,n=t.getFieldValue("keys");1!==n.length&&t.setFieldsValue({keys:n.filter(function(t){return t!==e})})},a.add=function(){var e=a.props.form,t=e.getFieldValue("keys").concat(ge++);e.setFieldsValue({keys:t})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||function(){var n=a.state,r=n.itemList,i=n.stockItems,l=n.selectedRowKeys,o=[],s=!0,c=!1,d=void 0;try{for(var u,m=function(){var e=u.value,a=i.filter(function(a){return a.itemCode===e.code&&a.lotNumber===t.lotNumber[e.key]}).map(function(e){return e._id}).filter(function(e){return l.includes(e)}),n={};n.item=e._id,n.lotNumber=t.lotNumber[e.key],n.units=t.units[e.key],n.stockItems=a,o.push(n)},h=r[Symbol.iterator]();!(s=(u=h.next()).done);s=!0)m()}catch(e){c=!0,d=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw d}}t.items=o,t.stockItems=l,delete t.lotNumber,delete t.units,console.log("Material request: ",t),a.createMaterialRequest(t)}()})},a.showSearchDrawer=function(){a.setState({searchVisible:!0})},a.handleAddItem=function(e){var t=Object(ee.a)({},e);K.a.get("/purchase-orders/items/lot-numbers?itemCode=".concat(t.code),{headers:fe}).then(function(e){t.key=a.itemIndex,t.lotNumbers=e.data.data,a.setState({itemList:[].concat(Object($.a)(a.state.itemList),[t])}),a.itemIndex+=1})},a.handleOnClose=function(){a.setState({searchVisible:!1})},a.handleRemoveItem=function(e){var t=a.state,n=t.itemList,r=t.stockItems,i=t.selectedRowKeys;n.includes(e)&&n.splice(n.indexOf(e),1);var l=a.props.form.getFieldsValue(["lotNumber"]).lotNumber[e.key];if(l){var o=r.filter(function(e){return e.lotNumber===l});r=r.filter(function(e){return!o.includes(e)}),i=i.filter(function(e){return!Boolean(o.find(function(t){return t._id===e}))})}a.setState({itemList:n,stockItems:r,selectedRowKeys:i})},a.handleShowStockItems=function(e){var t=a.props.form.getFieldsValue(["lotNumber"]).lotNumber[e.key];if(t){if(a.state.stockItems.length>0&&Boolean(a.state.stockItems.find(function(e){return e.lotNumber===t})))return te.a.error("Sorry, Stock items are already listed down.");a.setState({stockLoading:!0}),K.a.get("/bins/stocks?itemCode=".concat(e.code,"&lotNumber=").concat(t),{headers:fe}).then(function(n){n.data&&(n.data.data.length>0?a.setState({stockItems:[].concat(Object($.a)(a.state.stockItems),Object($.a)(n.data.data))}):te.a.warning("Sorry, No stocks available for given Merge(".concat(t,") and Item code(").concat(e.code,")"))),a.setState({stockLoading:!1})}).catch(function(e){console.err("Error:",e),a.setState({stockLoading:!1})})}else te.a.error("Please select valid LOT Number(Merge)")},a.onSelectChange=function(e){var t=a.state,n=t.stockItems,r=t.itemList,i=a.props.form.getFieldsValue(["lotNumber"]),l=[],o=!0,s=!1,c=void 0;try{for(var d,u=function(){var e=d.value,t=n.find(function(t){return t._id===e}),a=i.lotNumber.indexOf(t.lotNumber);l.push(a)},m=e[Symbol.iterator]();!(o=(d=m.next()).done);o=!0)u()}catch(E){s=!0,c=E}finally{try{o||null==m.return||m.return()}finally{if(s)throw c}}var h=!0,p=!1,f=void 0;try{for(var g,y=function(){var e=g.value,t=l.filter(function(t){return t===e.key}).length,n=a.props.form.getFieldsValue(["units"]).units;n.splice(e.key,0,t),a.props.form.setFieldsValue({units:n})},b=r[Symbol.iterator]();!(h=(g=b.next()).done);h=!0)y()}catch(E){p=!0,f=E}finally{try{h||null==b.return||b.return()}finally{if(p)throw f}}a.setState({selectedRowKeys:e})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.itemList,i=a.stockItems,l=a.selectedRowKeys,o=a.stockLoading,s={selectedRowKeys:l,onChange:this.onSelectChange,getCheckboxProps:function(e){return{disabled:"RESERVED"===e.status||"PENDING"===e.detailsStatus}}},c={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:12}}},d=[{title:"Item Description",key:"description",render:function(e,t){return"".concat(t.code," # ").concat(t.name)}},{title:"Merge",dataIndex:"lotNumber",key:"lotNumber",render:function(e,a){return r.a.createElement(P.a.Item,{key:a.key,style:{marginBottom:"0"},hasFeedback:!0},t("lotNumber[".concat(a.key,"]"),{rules:[{required:!0,message:"Please enter merge number"}]})(r.a.createElement(ae.a,{dataSource:a.lotNumbers,filterOption:!0,placeholder:"LOT Number"},r.a.createElement(q.a,{suffix:r.a.createElement(S.a,{type:"search"})}))))}},{title:"# of Box",dataIndex:"units",key:"units",render:function(e,a){return r.a.createElement(P.a.Item,{key:a.key,style:{marginBottom:"0"},hasFeedback:!0},t("units[".concat(a.key,"]"),{rules:[{required:!0,message:"Please enter #of box"}]})(r.a.createElement(ne.a,{placeholder:"#of box",readOnly:!0})))}},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{type:"primary",onClick:function(t){t.stopPropagation(),e.handleShowStockItems(a)},icon:"search"},"Stocks"),r.a.createElement(U.a,{type:"primary",onClick:function(t){t.stopPropagation(),e.handleRemoveItem(a)},icon:"close",style:{marginLeft:5}}))}}],u=[{title:"LOT Number(Merge)",dataIndex:"orderItem.lotNumber",key:"orderItem.lotNumber"},{title:"Bin",dataIndex:"bin.code",key:"bin.code"},{title:"Running #",dataIndex:"runningNumber",key:"runningNumber"},{title:"Net Weight",dataIndex:"netWeight",key:"netWeight"},{title:"Gross Weight",dataIndex:"grossWeight",key:"grossWeight"},{title:"Cones",dataIndex:"cones",key:"cones"},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){var a="";return"AVAILABLE"===e&&(a="#87d068"),"RESERVED"===e&&(a="#2db7f5"),"DELIVER"===e&&(a="#108ee9"),"FACTORY_RECEIVED"===e&&(a="#f50"),r.a.createElement(re.a,{color:a},e)}}];return r.a.createElement(ie.a,{title:"Material Request Details",bordered:!1},r.a.createElement(P.a,{layout:"vertical",onSubmit:this.handleSubmit},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{md:12,sm:24},r.a.createElement(P.a.Item,Object.assign({},c,{label:"Request Ref #",hasFeedback:!0}),t("refNumber",{rules:[{required:!0,message:"Please input meterial request number"}]})(r.a.createElement(q.a,{placeholder:"Ref Number"})))),r.a.createElement(le.a,{md:12,sm:24},r.a.createElement(P.a.Item,Object.assign({},c,{label:"Request Date",hasFeedback:!0}),t("requestedDate",{rules:[{required:!0,message:"Please enter valid date"}]})(r.a.createElement(oe.a,{placeholder:"Request date",format:"YYYY-MM-DD"}))))),r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{md:12,sm:24},r.a.createElement(P.a.Item,Object.assign({},c,{label:"Delivery Location",hasFeedback:!0}),t("deliveryLocation",{rules:[{required:!0,message:"Please enter delivery location"}]})(r.a.createElement(q.a,null)))),r.a.createElement(le.a,{md:12,sm:24})),r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{md:12,sm:24},r.a.createElement(P.a.Item,Object.assign({},c,{label:"Contact Persion Name",hasFeedback:!0}),t("contactPerson",{rules:[{required:!0,message:"Please enter contact person name"}]})(r.a.createElement(q.a,null)))),r.a.createElement(le.a,{md:12,sm:24},r.a.createElement(P.a.Item,Object.assign({},c,{label:"Contact Number",hasFeedback:!0}),t("contactNumber",{rules:[{required:!0,message:"Please enter contact number"}]})(r.a.createElement(q.a,null))))),r.a.createElement(se.a,{orientation:"left"},"Material details -"," ",r.a.createElement(U.a,{type:"primary",onClick:this.showSearchDrawer},r.a.createElement(S.a,{type:"plus"}),"Add Material")),r.a.createElement(pe,{onAddItem:this.handleAddItem,onClose:this.handleOnClose,visible:this.state.searchVisible}),n.length>0&&r.a.createElement(ce.a,{pagination:!1,columns:d,dataSource:n}),r.a.createElement(de.a,{tip:"Stock loading...",spinning:o},i.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{orientation:"left"},"Available Stocks"),r.a.createElement(ce.a,{rowKey:"_id",rowSelection:s,columns:u,dataSource:i,pagination:!1}))),r.a.createElement(se.a,null),r.a.createElement(U.a,{type:"primary",htmlType:"submit",disabled:0===l.length},"Submit Request")))}}]),t}(n.Component),be=P.a.create()(ye),Ee=a(435),ke=a(7),ve=a.n(ke),Se=a(129),Ie=function(e){var t=e.onMenuClick,a=e.menuOptions,n=void 0===a?[]:a,i=e.buttonStyle,l=e.dropdownProps,o=n.map(function(e){return r.a.createElement(v.a.Item,{key:e.key},e.name)});return r.a.createElement(Se.a,Object.assign({overlay:r.a.createElement(v.a,{onClick:t},o)},l),r.a.createElement(U.a,{style:Object(ee.a)({border:"none"},i)},r.a.createElement(S.a,{style:{marginRight:2},type:"bars"}),r.a.createElement(S.a,{type:"down"})))},Oe={"Content-Type":"application/json"};j.getToken()&&(Oe.Authorization="Bearer ".concat(j.getToken()));var Re=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),Ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.props.showSearchLoading(!0),K.a.post("/material-requests/filter",t,{headers:Oe}).then(function(e){e.data&&a.props.onSearchResults(e.data.data)}))})},a.handleReset=function(e){a.props.form.resetFields(),a.handleSearch(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSearch,layout:"inline"},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:4},md:{span:12}},e("refNumber")(r.a.createElement(q.a.Search,{placeholder:"Search Ref #"}))),r.a.createElement(le.a,{xl:{span:4},md:{span:12}},e("deliveryLocation")(r.a.createElement(q.a.Search,{placeholder:"Search delivery locatioin"}))),r.a.createElement(le.a,{xl:{span:4},md:{span:12}},e("contactNumber")(r.a.createElement(q.a.Search,{placeholder:"Search contact number"}))),r.a.createElement(le.a,Object.assign({},Re,{xl:{span:12},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset"))))))}}]),t}(n.Component),je=P.a.create()(Ce),De={"Content-Type":"application/json"};j.getToken()&&(De.Authorization="Bearer ".concat(j.getToken()));var xe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={materialRequests:[],loading:!1},a.getMaterialRequests=function(){a.setState({loading:!0}),K.a.get("/material-requests",{headers:De}).then(function(e){e.data&&(a.setState({materialRequests:e.data.data}),a.setState({loading:!1}))}).catch(function(e){return console.log(e)})},a.handleDelete=function(e){K.a.delete("/material-requests/".concat(e),{headers:De}).then(function(e){e.success&&a.props.history.push("/material-request/list")})},a.handleMenuClick=function(e,t){"delete"===t.key?(a.deleteItem(e),a.getMaterialRequests()):"view"!==t.key&&"deliveryRequest"!==t.key||a.props.history.push("/material-request/view/".concat(e._id))},a.deleteItem=function(e){Ee.a.confirm({title:"Delete request",content:"Do you want to delete this request?",onOk:function(){return a.handleDelete(e._id)}})},a.getOperationTasks=function(e){var t=[];return t.push({key:"view",name:"View"}),t.push({key:"delete",name:"Delete"}),"PENDING"===e.status&&t.push({key:"deliveryRequest",name:"Create delivery request"}),t},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getMaterialRequests()}},{key:"render",value:function(){var e=this,t=[{title:"Reqest Number",dataIndex:"refNumber",key:"refNumber"},{title:"Delivery Location",dataIndex:"deliveryLocation",key:"deliveryLocation"},{title:"Requested Date",dataIndex:"requestedDate",key:"requestedDate",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"Created Date",dataIndex:"createdDate",key:"createdDate",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"Contact Person",dataIndex:"contactPerson",key:"contactPerson"},{title:"Contact Number",dataIndex:"contactNumber",key:"contactNumber"},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){var a="";return"PENDING"===e&&(a="volcano"),"DELIVERY_REQUEST"===e&&(a="#2db7f5"),"DELIVERY"===e&&(a="#bae637"),"COMPLETE"===e&&(a="#87d068"),r.a.createElement(re.a,{color:a},e)}},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:e.getOperationTasks(a)})}}];return r.a.createElement(ie.a,null,r.a.createElement(je,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults}),r.a.createElement(ce.a,{loading:this.state.loading,rowKey:"_id",size:"middle",columns:t,dataSource:this.state.materialRequests,style:{marginTop:15}}))}}]),t}(n.Component),Ne=(a(162),a(211),a(445)),Ae=a(446),Me={"Content-Type":"application/json"};j.getToken()&&(Me.Authorization="Bearer ".concat(j.getToken()));var we=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={materialRequest:{},stockItems:[],loading:!1},a.handleOnClick=function(){a.setState({loading:!0});K.a.put("/material-requests/".concat(a.state.materialRequest._id),{status:"DELIVERY_REQUEST"},{headers:Me}).then(function(e){a.setState({loading:!1}),a.props.history.push("/material-request/list")}).catch(function(e){a.setState({loading:!1}),console.error(e)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),K.a.get("/material-requests/".concat(this.props.match.params.id),{headers:Me}).then(function(t){var a=t.data.data,n=a.items.map(function(e){return e.stockItems}).reduce(function(e,t){return e.concat(t)});e.setState({materialRequest:a,stockItems:n,loading:!1})}).catch(function(t){console.error(t),e.setState({loading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.materialRequest,n=e.stockItems,i=[{title:"LOT Number(Merge)",dataIndex:"lotNumber",key:"lotNumber"},{title:"Bin",dataIndex:"binCode",key:"binCode"},{title:"Running #",dataIndex:"runningNumber",key:"runningNumber"},{title:"Net Weight",dataIndex:"netWeight",key:"netWeight"},{title:"Gross Weight",dataIndex:"grossWeight",key:"grossWeight"},{title:"Cones",dataIndex:"cones",key:"cones"},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){var a="";return"AVAILABLE"===e&&(a="#87d068"),"RESERVED"===e&&(a="#2db7f5"),"DELIVER"===e&&(a="#108ee9"),"FACTORY_RECEIVED"===e&&(a="#f50"),r.a.createElement(re.a,{color:a},e)}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{tip:"Loading...",spinning:t},r.a.createElement(ie.a,{title:"Material Request Details",bordered:!1},r.a.createElement(Ne.a,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},r.a.createElement(Ne.a.Item,{label:"Reference Number"},a.refNumber),r.a.createElement(Ne.a.Item,{label:"Requested Date"},ve()(a.requestedDate).format("YYYY-MM-DD")),r.a.createElement(Ne.a.Item,{label:"Delivery Location"},a.deliveryLocation),r.a.createElement(Ne.a.Item,{label:"Contact Person"},a.contactPerson),r.a.createElement(Ne.a.Item,{label:"Contact Number"},a.contactNumber),r.a.createElement(Ne.a.Item,{label:"Status",span:3},r.a.createElement(Ae.a,{status:"processing",text:a.status}))),r.a.createElement("div",null),r.a.createElement(se.a,{orientation:"left"},"Requested Items"),r.a.createElement(ce.a,{rowKey:"_id",pagination:!1,dataSource:a.items,columns:[{title:"Item Description",key:"description",render:function(e,t){return"".concat(t.item.code," # ").concat(t.item.name)}},{title:"Merge",dataIndex:"lotNumber",key:"lotNumber"},{title:"# of Box",dataIndex:"units",key:"units"}]}),n.length>0&&r.a.createElement("div",null,r.a.createElement(se.a,{orientation:"left"},"Stock Items"),r.a.createElement(ce.a,{rowKey:"_id",pagination:!1,dataSource:n,columns:i,size:"middle"})),"PENDING"===a.status&&r.a.createElement(U.a,{type:"primary",onClick:this.handleOnClick,style:{marginTop:40}},"Create Delivery Request"))))}}]),t}(n.Component),Te=a(39),Le=a(63),Fe={"Content-Type":"application/json"};j.getToken()&&(Fe.Authorization="Bearer ".concat(j.getToken()));var Ye=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),Ve=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={packingTypes:[]},a.handleSearch=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.props.showSearchLoading(!0),K.a.post("/item-categories/filter",t,{headers:Fe}).then(function(e){e.data&&a.props.onSearchResults(e.data.data)}))})},a.handleReset=function(e){a.props.form.resetFields(),a.handleSearch(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/packing-types",{headers:Fe}).then(function(e){return e.json()}).then(function(t){e.setState({packingTypes:t.data})})}},{key:"render",value:function(){var e=this.props,t=e.form,a=e.onAddItem,n=t.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSearch,layout:"inline"},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:4},md:{span:12}},n("code")(r.a.createElement(q.a.Search,{placeholder:"Material code"}))),r.a.createElement(le.a,Object.assign({},Ye,{xl:{span:20},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset")),j.hasRole(j.getProfile(),["SUPER_ADMIN"])&&r.a.createElement(U.a,{type:"dashed",onClick:a},"Create")))))}}]),t}(n.Component),Pe=P.a.create()(Ve),Be={"Content-Type":"application/json"};j.getToken()&&(Be.Authorization="Bearer ".concat(j.getToken()));var qe=P.a.Item,We=Le.a.Option,Ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],loading:!1,modalVisible:!1,modalType:"create",currentItem:{},packingTypes:[]},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.showModal=function(){a.setState({modalVisible:!0,currentItem:{},modalType:"create"})},a.showEditModal=function(e){e.packingType=e.packingType._id,a.setState({currentItem:e,modalType:"update",modalVisible:!0})},a.handleRefresh=function(){a.setState({loading:!0}),K.a.get("/item-categories",{headers:Be}).then(function(e){e.data&&a.setState({items:e.data.data,loading:!1})}).catch(function(e){return console.log(e)})},a.handleCancel=function(){a.setState({modalVisible:!1})},a.handleModalSubmit=function(e){e.preventDefault();var t=a.props.form,n=a.state.currentItem,r=n?n._id:"";t.validateFields(function(e,n){e||(r?K.a.put("/item-categories/"+r,n,{headers:Be}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}):K.a.post("/item-categories",n,{headers:Be}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}))})},a.handleDelete=function(e){K.a.delete("/item-categories/"+e,{headers:Be}).then(function(){a.handleRefresh()})},a.handleMenuClick=function(e,t){"edit"===t.key?(a.setState({currentItem:e}),a.showEditModal(e)):"delete"===t.key&&a.deleteItem(e)},a.deleteItem=function(e){Ee.a.confirm({title:"Delete measuring type",content:"Do you want to delete this measuring type?",onOk:function(){return a.handleDelete(e._id)}})},a.showSearchLoading=function(e){a.setState({loading:e})},a.handleSearchResults=function(e){a.setState({items:e,loading:!1})},a.getMaterials=function(){a.setState({loading:!0}),K.a.get("/item-categories",{headers:Be}).then(function(e){e.data&&a.setState({items:e.data.data,loading:!1})}).catch(function(e){a.setState({loading:!1}),console.log(e)})},a.getPackingTypes=function(){K.a.get("/packing-types",{headers:Be}).then(function(e){e.data&&a.setState({packingTypes:e.data.data})}).catch(function(e){return console.log(e)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getMaterials(),this.getPackingTypes()}},{key:"render",value:function(){var e=this,t=this.state.packingTypes,a=[{title:"Material Code",dataIndex:"code",key:"code"},{title:"Name",dataIndex:"name",key:"name"},{title:"Packing Type",dataIndex:"packingType",key:"packingType",render:function(e){return e.name}},{title:"CreatedAt",dataIndex:"createdAt",key:"createdAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"CreatedBy",dataIndex:"createdBy",key:"createdBy",render:function(e){return e.firstName}},{title:"UpdatedBy",dataIndex:"updatedBy",key:"updatedBy",render:function(e){return e?e.firstName:""}}];j.hasRole(j.getProfile(),["SUPER_ADMIN"])&&a.push({title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:[{key:"edit",name:"Edit"},{key:"delete",name:"Delete"}]})}});var n=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement(Pe,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults,onAddItem:this.showModal}),r.a.createElement(ce.a,{loading:this.state.loading,rowKey:"_id",size:"small",columns:a,dataSource:this.state.items,pagination:{pageSize:25}}),r.a.createElement(Ee.a,Object(Te.a)({item:this.state.currentItem,visible:this.state.modalVisible,maskClosable:!1,title:"create"===this.state.modalType?"Create Material Item":"Update Material Item",centered:!0,onOk:function(t){K.a.post("/measuring-types",t).then(function(){e.handleRefresh()})},onCancel:this.handleCancel},"onOk",this.handleModalSubmit),r.a.createElement(P.a,{onSubmit:e.handleSubmit},r.a.createElement(qe,Object.assign({label:"Material Code",hasFeedback:!0},e.formLayout),n("code",{initialValue:e.state.currentItem.code,rules:[{required:!0}]})(r.a.createElement(q.a,{placeholder:"Material code"}))),r.a.createElement(qe,Object.assign({label:"Name",hasFeedback:!0},e.formLayout),n("name",{initialValue:e.state.currentItem.name,rules:[{required:!0}]})(r.a.createElement(q.a,{placeholder:"Item name"}))),r.a.createElement(qe,Object.assign({label:"Packing Type",hasFeedback:!0},e.formLayout),n("packingType",{initialValue:e.state.currentItem.packingType,rules:[{required:!0}]})(r.a.createElement(Le.a,{placeholder:"Search packing type"},t.map(function(e){return r.a.createElement(We,{value:e._id,key:e._id},e.name)})))),r.a.createElement(qe,Object.assign({label:"Made Of",hasFeedback:!0},e.formLayout),n("madeOf",{initialValue:e.state.currentItem.madeOf,rules:[{required:!1}]})(r.a.createElement(q.a,{placeholder:"Made of"}))),r.a.createElement(qe,Object.assign({label:"Colour",hasFeedback:!0},e.formLayout),n("colour",{initialValue:e.state.currentItem.colour,rules:[{required:!1}]})(r.a.createElement(q.a,{placeholder:"Colour"}))))))}}]),t}(n.Component),ze=P.a.create()(Ue),Ke=P.a.Item,_e={labelCol:{span:6},wrapperCol:{span:14}},Ge=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleOk=function(){var e=a.props,t=e.item,n=void 0===t?{}:t,r=e.onOk,i=e.form,l=i.validateFields,o=i.getFieldsValue;l(function(e){if(!e){var t=Object(ee.a)({},o,{key:n.key});r(t)}})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=void 0===t?{}:t,n=e.form,i=e.onOk,l=Object(g.a)(e,["item","form","onOk"]),o=n.getFieldDecorator;return r.a.createElement(Ee.a,Object.assign({},l,{onOk:i}),r.a.createElement(P.a,{layout:"horizontal"},r.a.createElement(Ke,Object.assign({label:"Name",hasFeedback:!0},_e),o("name",{initialValue:a.name,rules:[{required:!0}]})(r.a.createElement(q.a,null))),r.a.createElement(Ke,Object.assign({label:"Lane",hasFeedback:!0},_e),o("lane",{initialValue:a.lane,rules:[{required:!0}]})(r.a.createElement(q.a,null))),r.a.createElement(Ke,Object.assign({label:"State",hasFeedback:!0},_e),o("state",{initialValue:a.state,rules:[{required:!0}]})(r.a.createElement(q.a,null))),r.a.createElement(Ke,Object.assign({label:"Country",hasFeedback:!0},_e),o("country",{initialValue:a.country,rules:[{required:!0}]})(r.a.createElement(q.a,null)))))}}]),t}(n.Component),Qe=P.a.create()(Ge),Je={"Content-Type":"application/json"};j.getToken()&&(Je.Authorization="Bearer ".concat(j.getToken()));var Xe=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),Ze=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.props.showSearchLoading(!0),K.a.post("/suppliers/filter",t,{headers:Je}).then(function(e){e.data&&a.props.onSearchResults(e.data.data)}))})},a.handleReset=function(e){a.props.form.resetFields(),a.handleSearch(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.onAddItem,n=t.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSearch,layout:"inline"},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:4},md:{span:12}},n("name")(r.a.createElement(q.a.Search,{placeholder:"Search name"}))),r.a.createElement(le.a,{xl:{span:4},md:{span:12}},n("lane")(r.a.createElement(q.a.Search,{placeholder:"Search lane"}))),r.a.createElement(le.a,{xl:{span:4},md:{span:12}},n("state")(r.a.createElement(q.a.Search,{placeholder:"Search state"}))),r.a.createElement(le.a,{xl:{span:4},md:{span:12}},n("country")(r.a.createElement(q.a.Search,{placeholder:"Search country"}))),r.a.createElement(le.a,Object.assign({},Xe,{xl:{span:8},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset")),r.a.createElement(U.a,{type:"dashed",onClick:a},"Create")))))}}]),t}(n.Component),He=P.a.create()(Ze),$e={"Content-Type":"application/json"};j.getToken()&&($e.Authorization="Bearer ".concat(j.getToken()));var et=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={suppliers:[],loading:!0,modalVisible:!1,modalType:"create",currentItem:{}},a.handleSubmit=function(){var e=(0,a.props.form.getFieldsValue)();a.setState({loading:!0}),K.a.post("/suppliers/filter",e,{headers:$e}).then(function(e){e.data&&a.setState({suppliers:e.data.data,loading:!1})})},a.handleReset=function(){var e=a.props.form,t=e.getFieldsValue,n=e.setFieldsValue,r=t();for(var i in r)({}).hasOwnProperty.call(r,i)&&(r[i]instanceof Array?r[i]=[]:r[i]=void 0);n(r),a.handleSubmit()},a.showModal=function(){a.setState({modalVisible:!0})},a.showEditModal=function(e){a.setState({modalVisible:!0,currentItem:e,modalType:"update"})},a.handleRefresh=function(){a.setState({loading:!0}),K.a.get("/suppliers",{headers:$e}).then(function(e){e.data&&a.setState({suppliers:e.data.data,loading:!1})}).catch(function(e){return console.log(e)})},a.handleCancel=function(){a.setState({modalVisible:!1})},a.handleOk=function(){var e=a.formRef.props.form,t=a.state.currentItem;e.validateFields(function(n,r){n||(t._id?K.a.put("/suppliers/"+t._id,r,{headers:$e}).then(function(){e.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}):K.a.post("/suppliers",r,{headers:$e}).then(function(){e.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}))})},a.handleDelete=function(e){K.a.delete("/suppliers/"+e,{headers:$e}).then(function(){a.handleRefresh()})},a.deleteItem=function(e){Ee.a.confirm({title:"Delete supplier",content:"Do you want to delete this supplier?",onOk:function(){return a.handleDelete(e._id)}})},a.handleMenuClick=function(e,t){"edit"===t.key?(a.setState({currentItem:e}),a.showEditModal(e)):"delete"===t.key&&a.deleteItem(e)},a.showSearchLoading=function(e){a.setState({loading:e})},a.handleSearchResults=function(e){a.setState({suppliers:e,loading:!1})},a.saveFormRef=function(e){a.formRef=e},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/suppliers",{headers:$e}).then(function(e){return e.json()}).then(function(t){e.setState({suppliers:t.data,loading:!1})})}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Lane",dataIndex:"lane",key:"lane"},{title:"State",dataIndex:"state",key:"state"},{title:"Country",dataIndex:"country",key:"country"},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:[{key:"edit",name:"Edit"},{key:"delete",name:"Delete"}]})}}],a={item:"create"===this.state.modalType?{}:this.state.currentItem,visible:this.state.modalVisible,maskClosable:!1,title:"create"===this.state.modalType?"Create User":"Update User",centered:!0,onOk:function(e){var t=this;K.a.post("/suppliers",e,{headers:$e}).then(function(){t.handleRefresh()})}};return r.a.createElement("div",null,r.a.createElement(He,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults,onAddItem:this.showModal}),r.a.createElement(ce.a,{loading:this.state.loading,rowKey:"_id",columns:t,dataSource:this.state.suppliers}),this.state.modalVisible&&r.a.createElement(Qe,Object.assign({},a,{onCancel:this.handleCancel,onOk:this.handleOk,wrappedComponentRef:this.saveFormRef})))}}]),t}(n.Component),tt=P.a.create()(et),at={"Content-Type":"application/json"};j.getToken()&&(at.Authorization="Bearer ".concat(j.getToken()));var nt=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),rt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.props.showSearchLoading(!0),K.a.post("/shipment-modes/filter",t,{headers:at}).then(function(e){e.data&&(a.props.onSearchResults(e.data.data),a.props.form.resetFields())}))})},a.handleReset=function(e){a.props.form.resetFields(),a.handleSearch(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.onAddItem,n=t.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSearch,layout:"inline"},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:4},md:{span:12}},n("name")(r.a.createElement(q.a.Search,{placeholder:"Search mode name"}))),r.a.createElement(le.a,Object.assign({},nt,{xl:{span:20},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset")),r.a.createElement(U.a,{type:"dashed",onClick:a},"Create")))))}}]),t}(n.Component),it=P.a.create()(rt),lt={"Content-Type":"application/json"};j.getToken()&&(lt.Authorization="Bearer ".concat(j.getToken()));var ot=Le.a.Option,st=P.a.Item,ct=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={modes:[],loading:!0,modalVisible:!1,modalType:"create",currentItem:{}},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.showModal=function(){a.setState({modalVisible:!0})},a.showEditModal=function(e){a.setState({modalVisible:!0,currentItem:e,modalType:"update"})},a.handleRefresh=function(){a.setState({loading:!0}),K.a.get("/shipment-modes",{headers:lt}).then(function(e){e.data&&a.setState({modes:e.data.data,loading:!1})}).catch(function(e){return console.log(e)})},a.handleCancel=function(){a.setState({modalVisible:!1,modalType:"create"})},a.handleModalSubmit=function(e){e.preventDefault();var t=a.props.form,n=a.state.currentItem,r=n?n._id:"";t.validateFields(function(e,n){e||(r?K.a.put("/shipment-modes/"+r,n,{headers:lt}).then(function(){t.resetFields(),a.setState({modalVisible:!1,modalType:"create"}),a.handleRefresh()}):K.a.post("/shipment-modes",n,{headers:lt}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}))})},a.handleDelete=function(e){K.a.delete("/shipment-modes/"+e,{headers:lt}).then(function(){a.handleRefresh()})},a.deleteItem=function(e){Ee.a.confirm({title:"Delete mode",content:"Do you want to delete this mode?",onOk:function(){return a.handleDelete(e._id)}})},a.handleMenuClick=function(e,t){"edit"===t.key?(a.setState({currentItem:e}),a.showEditModal(e)):"delete"===t.key&&a.deleteItem(e)},a.showSearchLoading=function(e){a.setState({loading:e})},a.handleSearchResults=function(e){a.setState({modes:e,loading:!1})},a.saveFormRef=function(e){a.formRef=e},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/shipment-modes",{headers:lt}).then(function(e){return e.json()}).then(function(t){e.setState({modes:t.data,loading:!1})})}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"CreatedAt",dataIndex:"createdAt",key:"createdAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"CreatedBy",dataIndex:"createdBy",key:"createdBy",render:function(e){return e.firstName}},{title:"UpdatedAt",dataIndex:"updatedAt",key:"updatedAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"UpdatedBy",dataIndex:"updatedBy",key:"updatedBy",render:function(e){return e?e.firstName:""}},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:[{key:"edit",name:"Edit"},{key:"delete",name:"Delete"}]})}}],a=this.props.form.getFieldDecorator,n=this.state,i=n.currentItem,l=void 0===i?{}:i,o=n.modes,s={item:"create"===this.state.modalType?{}:l,visible:this.state.modalVisible,maskClosable:!1,title:"create"===this.state.modalType?"Create Shipment Mode":"Update Shipment Mode",centered:!0,onOk:function(e){var t=this;K.a.post("/shipment-modes",e,{headers:lt}).then(function(){t.handleRefresh()})}};return r.a.createElement("div",null,r.a.createElement(it,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults,onAddItem:this.showModal}),r.a.createElement(ce.a,{loading:this.state.loading,defaultExpandAllRows:!0,rowKey:"_id",columns:t,dataSource:this.state.modes}),r.a.createElement(Ee.a,Object.assign({},s,{onCancel:this.handleCancel,onOk:this.handleModalSubmit}),r.a.createElement(P.a,{onSubmit:e.handleSubmit},"create"===e.state.modalType&&r.a.createElement(st,Object.assign({label:"Parent Mode"},e.formLayout),a("parent")(r.a.createElement(Le.a,{placeholder:"Parent mode"},o.map(function(e){return r.a.createElement(ot,{key:e._id,value:e._id},e.name)})))),r.a.createElement(st,Object.assign({label:"Name",hasFeedback:!0},e.formLayout),a("name",{initialValue:l.name,rules:[{required:!0}]})(r.a.createElement(q.a,{placeholder:"Shipment mode name"}))))))}}]),t}(n.Component),dt=P.a.create()(ct),ut={"Content-Type":"application/json"};j.getToken()&&(ut.Authorization="Bearer ".concat(j.getToken()));var mt=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),ht=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.props.showSearchLoading(!0),K.a.post("/packing-types/filter",t,{headers:ut}).then(function(e){e.data&&a.props.onSearchResults(e.data.data)}))})},a.handleReset=function(e){a.props.form.resetFields(),a.handleSearch(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.onAddItem,n=t.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSearch,layout:"inline"},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:4},md:{span:12}},n("name")(r.a.createElement(q.a.Search,{placeholder:"Search type name"}))),r.a.createElement(le.a,Object.assign({},mt,{xl:{span:20},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset")),r.a.createElement(U.a,{type:"dashed",onClick:a},"Create")))))}}]),t}(n.Component),pt=P.a.create()(ht),ft={"Content-Type":"application/json"};j.getToken()&&(ft.Authorization="Bearer ".concat(j.getToken()));var gt=P.a.Item,yt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],loading:!0,modalVisible:!1,modalType:"create",currentItem:{}},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.showModal=function(){a.setState({modalVisible:!0})},a.showEditModal=function(e){a.setState({modalVisible:!0,currentItem:e,modalType:"update"})},a.handleRefresh=function(){a.setState({loading:!0}),K.a.get("/packing-types",{headers:ft}).then(function(e){e.data&&a.setState({items:e.data.data,loading:!1})}).catch(function(e){return console.log(e)})},a.handleCancel=function(){a.setState({modalVisible:!1})},a.handleModalSubmit=function(e){e.preventDefault();var t=a.props.form,n=a.state.currentItem,r=n?n._id:"";t.validateFields(function(e,n){e||(r?K.a.put("/packing-types/"+r,n,{headers:ft}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}):K.a.post("/packing-types",n,{headers:ft}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}))})},a.handleDelete=function(e){K.a.delete("/packing-types/"+e,{headers:ft}).then(function(){a.handleRefresh()})},a.deleteItem=function(e){Ee.a.confirm({title:"Delete type",content:"Do you want to delete this type?",onOk:function(){return a.handleDelete(e._id)}})},a.handleMenuClick=function(e,t){"edit"===t.key?(a.setState({currentItem:e}),a.showEditModal(e)):"delete"===t.key&&a.deleteItem(e)},a.showSearchLoading=function(e){a.setState({loading:e})},a.handleSearchResults=function(e){a.setState({items:e,loading:!1})},a.handleAddItem=function(){a.setState({modalVisible:!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/packing-types",{headers:ft}).then(function(e){return e.json()}).then(function(t){e.setState({items:t.data,loading:!1})})}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:[{key:"edit",name:"Edit"},{key:"delete",name:"Delete"}]})}}],a=this.props.form.getFieldDecorator,n=this.state.currentItem,i=void 0===n?{}:n,l={item:"create"===this.state.modalType?{}:i,visible:this.state.modalVisible,maskClosable:!1,title:"create"===this.state.modalType?"Create Packing Type":"Update Packing Type",centered:!0,onOk:function(e){var t=this;K.a.post("/packing-types",e).then(function(){t.handleRefresh()})}};return r.a.createElement("div",null,r.a.createElement(pt,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults,onAddItem:this.handleAddItem}),r.a.createElement(ce.a,{bordered:!0,loading:this.state.loading,rowKey:"_id",columns:t,dataSource:this.state.items}),r.a.createElement(Ee.a,Object.assign({},l,{onCancel:this.handleCancel,onOk:this.handleModalSubmit}),r.a.createElement(P.a,{onSubmit:e.handleSubmit},r.a.createElement(gt,Object.assign({label:"Name",hasFeedback:!0},e.formLayout),a("name",{initialValue:i.name,rules:[{required:!0}]})(r.a.createElement(q.a,{placeholder:"Packing type"}))))))}}]),t}(n.Component),bt=P.a.create()(yt),Et={"Content-Type":"application/json"};j.getToken()&&(Et.Authorization="Bearer ".concat(j.getToken()));var kt=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),vt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.props.showSearchLoading(!0),K.a.post("/measuring-types/filter",t,{headers:Et}).then(function(e){e.data&&a.props.onSearchResults(e.data.data)}))})},a.handleReset=function(e){a.props.form.resetFields(),a.handleSearch(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.onAddItem,n=t.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSearch,layout:"inline"},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:4},md:{span:12}},n("name")(r.a.createElement(q.a.Search,{placeholder:"Search measuring type name"}))),r.a.createElement(le.a,Object.assign({},kt,{xl:{span:20},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset")),r.a.createElement(U.a,{type:"dashed",onClick:a},"Create")))))}}]),t}(n.Component),St=P.a.create()(vt),It={"Content-Type":"application/json"};j.getToken()&&(It.Authorization="Bearer ".concat(j.getToken()));var Ot=P.a.Item,Rt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],loading:!0,modalVisible:!1,modalType:"create",currentItem:{}},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.showModal=function(){a.setState({modalVisible:!0})},a.showEditModal=function(e){a.setState({modalVisible:!0,currentItem:e,modalType:"update"})},a.handleRefresh=function(){a.setState({loading:!0}),K.a.get("/measuring-types",{headers:It}).then(function(e){e.data&&a.setState({items:e.data.data,loading:!1})}).catch(function(e){return console.log(e)})},a.handleCancel=function(){a.setState({modalVisible:!1})},a.handleModalSubmit=function(e){e.preventDefault();var t=a.props.form,n=a.state.currentItem,r=n?n._id:"";t.validateFields(function(e,n){e||(r?K.a.put("/measuring-types/"+r,n,{headers:It}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}):K.a.post("/measuring-types",n,{headers:It}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}))})},a.handleDelete=function(e){K.a.delete("/measuring-types/"+e,{headers:It}).then(function(){a.handleRefresh()})},a.deleteItem=function(e){Ee.a.confirm({title:"Delete type",content:"Do you want to delete this type?",onOk:function(){return a.handleDelete(e._id)}})},a.handleMenuClick=function(e,t){"edit"===t.key?(a.setState({currentItem:e}),a.showEditModal(e)):"delete"===t.key&&a.deleteItem(e)},a.showSearchLoading=function(e){a.setState({loading:e})},a.handleSearchResults=function(e){a.setState({items:e,loading:!1})},a.handleAddItem=function(){a.setState({modalVisible:!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/measuring-types",{headers:It}).then(function(e){return e.json()}).then(function(t){e.setState({items:t.data,loading:!1})})}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"CreatedAt",dataIndex:"createdAt",key:"createdAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"CreatedBy",dataIndex:"createdBy",key:"createdBy",render:function(e){return e.firstName}},{title:"UpdatedAt",dataIndex:"updatedAt",key:"updatedAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"UpdatedBy",dataIndex:"updatedBy",key:"updatedBy",render:function(e){return e?e.firstName:""}},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:[{key:"edit",name:"Edit"},{key:"delete",name:"Delete"}]})}}],a=this.props.form.getFieldDecorator,n=this.state.currentItem,i=void 0===n?{}:n,l={item:"create"===this.state.modalType?{}:i,visible:this.state.modalVisible,maskClosable:!1,title:"create"===this.state.modalType?"Create Measuring Type":"Update Measuring Type",centered:!0,onOk:function(e){var t=this;K.a.post("/measuring-types",e).then(function(){t.handleRefresh()})}};return r.a.createElement("div",null,r.a.createElement(St,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults,onAddItem:this.handleAddItem}),r.a.createElement(ce.a,{loading:this.state.loading,rowKey:"_id",columns:t,dataSource:this.state.items}),r.a.createElement(Ee.a,Object.assign({},l,{onCancel:this.handleCancel,onOk:this.handleModalSubmit}),r.a.createElement(P.a,{onSubmit:e.handleSubmit},r.a.createElement(Ot,Object.assign({label:"Name",hasFeedback:!0},e.formLayout),a("name",{initialValue:i.name,rules:[{required:!0}]})(r.a.createElement(q.a,{placeholder:"Measuring type"}))))))}}]),t}(n.Component),Ct=P.a.create()(Rt),jt={"Content-Type":"application/json"};j.getToken()&&(jt.Authorization="Bearer ".concat(j.getToken()));var Dt=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),xt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.props.showSearchLoading(!0),K.a.post("/roles/filter",t,{headers:jt}).then(function(e){e.data&&a.props.onSearchResults(e.data.data)}))})},a.handleReset=function(e){a.props.form.resetFields(),a.handleSearch(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.onAddItem,n=t.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSearch,layout:"inline"},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:4},md:{span:12}},n("title")(r.a.createElement(q.a.Search,{placeholder:"Search role name"}))),r.a.createElement(le.a,Object.assign({},Dt,{xl:{span:20},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset")),r.a.createElement(U.a,{type:"dashed",onClick:a},"Create")))))}}]),t}(n.Component),Nt=P.a.create()(xt),At={"Content-Type":"application/json"};j.getToken()&&(At.Authorization="Bearer ".concat(j.getToken()));var Mt=P.a.Item,wt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={roles:[],loading:!0,modalVisible:!1,modalType:"create",currentItem:{}},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.showModal=function(){a.setState({modalVisible:!0})},a.showEditModal=function(e){a.setState({modalVisible:!0,currentItem:e,modalType:"update"})},a.handleRefresh=function(){a.setState({loading:!0}),K.a.get("/roles",{headers:At}).then(function(e){e.data&&a.setState({roles:e.data.data,loading:!1})}).catch(function(e){return console.log(e)})},a.handleCancel=function(){a.setState({modalVisible:!1})},a.handleModalSubmit=function(e){e.preventDefault();var t=a.props.form,n=a.state.currentItem,r=n?n._id:"";t.validateFields(function(e,n){e||(r?K.a.put("/roles/"+r,n,{headers:At}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}):K.a.post("/roles",n,{headers:At}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}))})},a.handleDelete=function(e){K.a.delete("/roles/"+e,{headers:At}).then(function(){a.handleRefresh()})},a.deleteItem=function(e){Ee.a.confirm({title:"Delete role",content:"Do you want to delete this role?",onOk:function(){return a.handleDelete(e._id)}})},a.handleMenuClick=function(e,t){"edit"===t.key?(a.setState({currentItem:e}),a.showEditModal(e)):"delete"===t.key&&a.deleteItem(e)},a.showSearchLoading=function(e){a.setState({loading:e})},a.handleSearchResults=function(e){a.setState({roles:e,loading:!1})},a.handleAddItem=function(){a.setState({modalVisible:!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/roles",{headers:At}).then(function(e){return e.json()}).then(function(t){e.setState({roles:t.data,loading:!1})})}},{key:"render",value:function(){var e=this,t=[{title:"Title",dataIndex:"title",key:"title"},{title:"CreatedAt",dataIndex:"createdAt",key:"createdAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"CreatedBy",dataIndex:"createdBy",key:"createdBy",render:function(e){return e.firstName}},{title:"UpdatedAt",dataIndex:"updatedAt",key:"updatedAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"UpdatedBy",dataIndex:"updatedBy",key:"updatedBy",render:function(e){return e?e.firstName:""}},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:[{key:"edit",name:"Edit"},{key:"delete",name:"Delete"}]})}}],a=this.props.form.getFieldDecorator,n=this.state.currentItem,i=void 0===n?{}:n,l={item:"create"===this.state.modalType?{}:i,visible:this.state.modalVisible,maskClosable:!1,title:"create"===this.state.modalType?"Create Role":"Update Role",centered:!0,onOk:function(e){var t=this;K.a.post("/roles",e,{headers:At}).then(function(){t.handleRefresh()})}};return r.a.createElement("div",null,r.a.createElement(Nt,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults,onAddItem:this.handleAddItem}),r.a.createElement(ce.a,{loading:this.state.loading,rowKey:"_id",columns:t,dataSource:this.state.roles}),r.a.createElement(Ee.a,Object.assign({},l,{onCancel:this.handleCancel,onOk:this.handleModalSubmit}),r.a.createElement(P.a,{onSubmit:e.handleSubmit},r.a.createElement(Mt,Object.assign({label:"Title",hasFeedback:!0},e.formLayout),a("title",{initialValue:i.title,rules:[{required:!0}]})(r.a.createElement(q.a,{placeholder:"User role title"}))))))}}]),t}(n.Component),Tt=P.a.create()(wt),Lt=a(86),Ft={"Content-Type":"application/json"};j.getToken()&&(Ft.Authorization="Bearer ".concat(j.getToken()));var Yt=q.a.Search,Vt=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),Pt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.props.showSearchLoading(!0),K.a.post("/users/filter",t,{headers:Ft}).then(function(e){e.data&&a.props.onSearchResults(e.data.data)}))})},a.handleReset=function(e){a.props.form.resetFields(),a.handleSearch(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.onAddItem,n=t.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSearch,layout:"inline"},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:4},md:{span:12}},n("firstName")(r.a.createElement(Yt,{placeholder:"Search first name"}))),r.a.createElement(le.a,{xl:{span:4},md:{span:12}},n("lastName")(r.a.createElement(Yt,{placeholder:"Search last name"}))),r.a.createElement(le.a,{xl:{span:4},md:{span:12}},n("email")(r.a.createElement(Yt,{placeholder:"Search email"}))),r.a.createElement(le.a,Object.assign({},Vt,{xl:{span:12},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset")),r.a.createElement(U.a,{type:"dashed",onClick:a},"Create")))))}}]),t}(n.Component),Bt=P.a.create()(Pt),qt={"Content-Type":"application/json"};j.getToken()&&(qt.Authorization="Bearer ".concat(j.getToken()));var Wt=P.a.Item,Ut=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={users:[],roles:[],loading:!0,modalVisible:!1,modalType:"create",currentItem:{}},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.handleSubmit=function(e){e.stopPropagation();var t=a.props.form;console.log("Form Id: ",t);var n=(0,t.getFieldsValue)();a.setState({loading:!0}),K.a.post("/users/filter",n,{headers:qt}).then(function(e){e.data&&a.setState({users:e.data.data,loading:!1})})},a.handleReset=function(e){e.stopPropagation();var t=a.props.form,n=t.getFieldsValue,r=t.setFieldsValue,i=n();for(var l in console.log("Reset fields1: ",i),i)({}).hasOwnProperty.call(i,l)&&(i[l]instanceof Array?i[l]=[]:i[l]=void 0);console.log("Reset fields2: ",i),r(i),a.handleSubmit()},a.showModal=function(){a.setState({modalVisible:!0})},a.showEditModal=function(e){a.setState({modalVisible:!0,currentItem:e,modalType:"update"})},a.handleRefresh=function(){a.setState({loading:!0}),K.a.get("/users",{headers:qt}).then(function(e){e.data&&a.setState({users:e.data.data,loading:!1})}).catch(function(e){return console.log(e)})},a.handleCancel=function(){a.props.form.resetFields(),a.setState({modalVisible:!1})},a.handleModalSubmit=function(e){e.preventDefault();var t=a.props.form,n=a.state.currentItem,r=n?n._id:"";t.validateFields(function(e,n){e||(r?K.a.put("/users/"+r,n,{headers:qt}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}):K.a.post("/users",n,{headers:qt}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}))})},a.handleDelete=function(e){K.a.delete("/users/"+e,{headers:qt}).then(function(){a.handleRefresh()})},a.deleteItem=function(e){Ee.a.confirm({title:"Delete user",content:"Do you want to delete this user?",onOk:function(){return a.handleDelete(e._id)}})},a.handleMenuClick=function(e,t){"edit"===t.key?(a.setState({currentItem:e}),a.showEditModal(e)):"delete"===t.key&&a.deleteItem(e)},a.showSearchLoading=function(e){a.setState({loading:e})},a.handleSearchResults=function(e){a.setState({users:e,loading:!1})},a.handleAddItem=function(){a.setState({modalVisible:!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/users",{headers:qt}).then(function(e){return e.json()}).then(function(t){e.setState({users:t.data,loading:!1})}),fetch("/roles",{headers:qt}).then(function(e){return e.json()}).then(function(t){e.setState({roles:t.data})})}},{key:"render",value:function(){var e=this,t=[{title:"First Name",dataIndex:"firstName",key:"firstName"},{title:"Last Name",dataIndex:"lastName",key:"lastName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Roles",dataIndex:"roles",key:"roles",render:function(e){return r.a.createElement("span",null,e.map(function(e){return r.a.createElement(re.a,{key:e._id},e.title)}))}},{title:"CreatedAt",dataIndex:"createdAt",key:"createdAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"CreatedBy",dataIndex:"createdBy",key:"createdBy",render:function(e){return e.firstName}},{title:"UpdatedAt",dataIndex:"updatedAt",key:"updatedAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"UpdatedBy",dataIndex:"updatedBy",key:"updatedBy",render:function(e){return e?e.firstName:""}},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:[{key:"edit",name:"Edit"},{key:"delete",name:"Delete"}]})}}],a=this.props.form.getFieldDecorator,n=this.state.currentItem,i=void 0===n?{}:n,l=null;0!==Object.entries(i).length&&(l=i.roles.map(function(e){return e._id}));var o={item:"create"===this.state.modalType?{}:i,visible:this.state.modalVisible,maskClosable:!1,title:"create"===this.state.modalType?"Create User":"Update User",centered:!0,onOk:function(e){var t=this;K.a.post("/users",e,{headers:qt}).then(function(){t.handleRefresh()})}};return r.a.createElement("div",null,r.a.createElement(Bt,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults,onAddItem:this.handleAddItem}),r.a.createElement(ce.a,{bordered:!1,loading:this.state.loading,rowKey:"_id",columns:t,dataSource:this.state.users}),r.a.createElement(Ee.a,Object.assign({},o,{onCancel:this.handleCancel,onOk:this.handleModalSubmit}),r.a.createElement(P.a,{onSubmit:e.handleSubmit},r.a.createElement(Wt,Object.assign({label:"First Name",hasFeedback:!0},e.formLayout),a("firstName",{initialValue:i.firstName,rules:[{required:!0}]})(r.a.createElement(q.a,{placeholder:"First Name"}))),r.a.createElement(Wt,Object.assign({label:"Last Name",hasFeedback:!0},e.formLayout),a("lastName",{initialValue:i.lastName,rules:[{required:!0}]})(r.a.createElement(q.a,{placeholder:"Last Name"}))),r.a.createElement(Wt,Object.assign({label:"Email",hasFeedback:!0},e.formLayout),a("email",{initialValue:i.email,rules:[{type:"email",message:"The input is not valid E-mail"},{required:!0}]})(r.a.createElement(q.a,{placeholder:"Email address"}))),r.a.createElement(Wt,Object.assign({label:"Password",hasFeedback:!0},e.formLayout),a("password",{initialValue:i.password,rules:[{required:!0}]})(r.a.createElement(q.a,{placeholder:"Password",type:"password"}))),r.a.createElement(Wt,Object.assign({label:"Roles",hasFeedback:!0},e.formLayout),a("roles",{initialValue:l,rules:[{required:!0,message:"At least one role is required"}]})(r.a.createElement(Lt.a.Group,null,r.a.createElement(W.a,null,e.state.roles.map(function(e){return r.a.createElement(le.a,{span:24,key:e._id},r.a.createElement(Lt.a,{value:e._id},e.title))}))))))))}}]),t}(n.Component),zt=P.a.create()(Ut),Kt={"Content-Type":"application/json"};j.getToken()&&(Kt.Authorization="Bearer ".concat(j.getToken()));var _t=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),Gt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.props.showSearchLoading(!0),K.a.post("/purchase-orders/filter",t,{headers:Kt}).then(function(e){e.data&&a.props.onSearchResults(e.data.data)}))})},a.handleReset=function(e){a.props.form.resetFields(),a.handleSearch(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSearch,layout:"inline"},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:4},md:{span:12}},e("code")(r.a.createElement(q.a.Search,{placeholder:"Packing List #"}))),r.a.createElement(le.a,Object.assign({},_t,{xl:{span:20},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset"))))))}}]),t}(n.Component),Qt=P.a.create()(Gt);j.getToken()&&"Bearer ".concat(j.getToken());var Jt={fontSize:16,color:"rgba(0,0,0,0.85)",lineHeight:"24px",display:"block",marginBottom:16},Xt=function(e){var t=e.title,a=e.content;return r.a.createElement("div",{style:{fontSize:14,lineHeight:"22px",marginBottom:7,color:"rgba(0,0,0,0.65)"}},r.a.createElement("p",{style:{marginRight:8,display:"inline-block",color:"rgba(0,0,0,0.85)"}},t,":"),a)},Zt=function(e){var t=e.order,a=e.visible,n=e.onClose,i=[{title:"Item Description",key:"description",render:function(e,t){return"".concat(t.item.code," # ").concat(t.item.name)}},{title:"Merge",dataIndex:"lotNumber",key:"lotNumber"},{title:"Box",dataIndex:"units",key:"units"},{title:"Net Weight",dataIndex:"netWeight",key:"netWeight",render:function(e){return Number(e).toFixed(2)}},{title:"Gross Weight",dataIndex:"grossWeight",key:"grossWeight",render:function(e){return Number(e).toFixed(2)}}];return r.a.createElement(ue.a,{width:640,placement:"right",closable:!1,onClose:n,visible:a},r.a.createElement("p",{style:Object(ee.a)({},Jt,{marginBottom:24})},"Packing List Details"),t&&r.a.createElement("div",null,r.a.createElement(W.a,null,r.a.createElement(le.a,{span:12},r.a.createElement(Xt,{title:"PO Number",content:t.code}))),r.a.createElement(W.a,null,r.a.createElement(le.a,{span:12},r.a.createElement(Xt,{title:"Packing Date",content:ve()(t.orderDate).format("YYYY-MM-DD")})),r.a.createElement(le.a,{span:12},r.a.createElement(Xt,{title:"Received Date",content:t.receivedDate&&ve()(t.receivedDate).format("YYYY-MM-DD")}))),r.a.createElement(W.a,null,r.a.createElement(le.a,{span:12},r.a.createElement(Xt,{title:"Supplier",content:t.supplier&&t.supplier.name})),r.a.createElement(le.a,{span:12},r.a.createElement(Xt,{title:"Status",content:t.status}))),r.a.createElement(W.a,null,r.a.createElement(le.a,{span:12},r.a.createElement(Xt,{title:"Net Weight",content:"".concat(Number(t.netWeight).toFixed(2)," Kg")})),r.a.createElement(le.a,{span:12},r.a.createElement(Xt,{title:"Gross Weight",content:"".concat(Number(t.grossWeight).toFixed(2)," Kg")}))),r.a.createElement(ce.a,{rowKey:"_id",pagination:!1,columns:i,dataSource:t.items,size:"middle",title:function(){return r.a.createElement("h3",null,"Packing Items")}})))},Ht={"Content-Type":"application/json"};j.getToken()&&(Ht.Authorization="Bearer ".concat(j.getToken()));var $t=P.a.Item,ea=q.a.TextArea,ta=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={purchaseOrders:[],selectedRowKeys:[],loading:!0,loadingApproval:!1,loadingApprove:!1,loadingReject:!1,modalVisible:!1,viewVisible:!1,approveOrRejectModalVisible:!1,approveOrRejectStatus:"",modalType:"create",currentItem:{}},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.showModal=function(){a.setState({modalVisible:!0})},a.handleRefresh=function(){a.setState({loading:!0}),K.a.get("/purchase-orders",{headers:Ht}).then(function(e){e.data&&a.setState({purchaseOrders:e.data.data,loading:!1})}).catch(function(e){return console.log(e)})},a.handleDelete=function(e){K.a.delete("/purchase-orders/"+e,{headers:Ht}).then(function(){a.handleRefresh()})},a.deleteItem=function(e){Ee.a.confirm({title:"Delete purchase order",content:"Do you want to delete this purchase-order?",onOk:function(){return a.handleDelete(e._id)}})},a.showSearchLoading=function(e){a.setState({loading:e})},a.handleSearchResults=function(e){a.setState({purchaseOrders:e,loading:!1})},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.handlePOApprovalStatusUpdate=function(e){a.setState({loadingApproval:!0}),K.a.post("/purchase-orders/bulk-update",{idList:e?[e]:a.state.selectedRowKeys,data:{status:"APPROVAL_PENDING"}},{headers:Ht}).then(function(e){e.data&&(a.setState({selectedRowKeys:[],loadingApproval:!1}),a.handleRefresh())}).catch(function(e){return console.error(e)})},a.updateApproveOrRejectOrder=function(e,t){a.setState({loadingApprove:"APPROVED"===e,loadingReject:"CANCEL"===e}),K.a.post("/purchase-orders/bulk-update",{idList:a.state.selectedRowKeys,data:{status:e,comment:t}},{headers:Ht}).then(function(e){e.data&&(a.setState({selectedRowKeys:[],loadingApprove:!1,loadingReject:!1}),a.handleRefresh())})},a.handleApprove=function(){a.setState({approveOrRejectStatus:"APPROVED",approveOrRejectModalVisible:!0})},a.handleReject=function(){a.setState({approveOrRejectStatus:"CANCEL",approveOrRejectModalVisible:!0})},a.handleApproveOrRejectSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.setState({approveOrRejectModalVisible:!1,approveOrRejectStatus:""}),a.updateApproveOrRejectOrder(a.state.approveOrRejectStatus,t.comment))})},a.handleApproveOrRejectCancel=function(){a.props.form.resetFields(),a.setState({approveOrRejectModalVisible:!1,approveOrRejectStatus:""})},a.handleMenuClick=function(e,t){"edit"===t.key?a.props.history.push("/purchase-orders/edit/".concat(e._id)):"sendForApproval"===t.key?a.handlePOApprovalStatusUpdate(e._id):"stockUpdate"===t.key?a.props.history.push("/purchase-orders/stock-update/".concat(e._id)):"delete"===t.key?a.deleteItem(e):"view"===t.key?a.props.history.push("/purchase-orders/view/".concat(e._id)):"stocksPrint"===t.key&&a.props.history.push("/purchase-orders/stocks-print/".concat(e._id))},a.getOperationTasks=function(e){var t=[];return j.hasRole(j.getProfile(),["SUPER_ADMIN","DATA_ENTRY_ADMIN"])&&("PENDING"===e.status?(t.push({key:"edit",name:"Edit"}),t.push({key:"sendForApproval",name:"Send for approval"})):"APPROVED"!==e.status&&"RECEIVE_PENDING"!==e.status||t.push({key:"stockUpdate",name:"Stock update"}),"PENDING"!==e.status&&"APPROVED"!==e.status||t.push({key:"delete",name:"Delete"})),t.push({key:"view",name:"View"}),"COMPLETE"===e.status&&t.push({key:"stocksPrint",name:"Print Stocks"}),t},a.handleViewOnClose=function(){a.setState({viewVisible:!1,currentItem:{}})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/purchase-orders",{headers:Ht}).then(function(e){return e.json()}).then(function(t){e.setState({purchaseOrders:t.data,loading:!1})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedRowKeys,n=t.viewVisible,i=t.currentItem,l=(this.onSelectChange,a.length,[{title:"PackingList #",dataIndex:"code",key:"code"},{title:"Packing Date",dataIndex:"orderDate",key:"orderDate",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"Received Date",dataIndex:"receivedDate",key:"receivedDate",render:function(e){return e&&ve()(e).format("YYYY-MM-DD")}},{title:"Supplier",dataIndex:"supplier.name",key:"supplier"},{title:"Updated At",dataIndex:"_updatedAt",key:"_updatedAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"Updated By",dataIndex:"updatedBy.firstName",key:"updatedBy.firstName"},{title:"Status",key:"status",dataIndex:"status",render:function(e,t){var a="";return"COMPLETE"===e&&(a="#87d068"),"APPROVED"===e&&(a="#2db7f5"),"RECEIVE_PENDING"===e&&(a="#108ee9"),r.a.createElement(re.a,{color:a},e)}},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:e.getOperationTasks(a)})}}]);return r.a.createElement("div",null,r.a.createElement(Qt,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults}),r.a.createElement(ce.a,{loading:this.state.loading,rowKey:"_id",columns:l,dataSource:this.state.purchaseOrders,size:"middle"}),r.a.createElement(Ee.a,{visible:this.state.approveOrRejectModalVisible,maskClosable:!1,centered:!0,title:"APPROVED"===this.state.approveOrRejectStatus?"Approve Order":"Cancel Order",onCancel:this.handleApproveOrRejectCancel,onOk:this.handleApproveOrRejectSubmit},function(){var t=e.props.form.getFieldDecorator;return r.a.createElement(P.a,null,r.a.createElement($t,Object.assign({label:"Comment",hasFeedback:!0},e.formLayout),t("comment",{rules:[{required:!0}]})(r.a.createElement(ea,{rows:4,placeholder:"Add your comment"}))))}()),r.a.createElement(Zt,{visible:n,onClose:this.handleViewOnClose,order:i}))}}]),t}(n.Component),aa=P.a.create()(ta),na={"Content-Type":"application/json"};j.getToken()&&(na.Authorization="Bearer ".concat(j.getToken()));var ra=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={purchaseOrders:[],loading:!0,modalVisible:!1,modalType:"create",currentItem:{}},a.handleMenuClick=function(e,t){"edit"===t.key&&a.props.history.push("/purchase-orders/good-received/".concat(e._id))},a.showSearchLoading=function(e){a.setState({loading:e})},a.handleSearchResults=function(e){a.setState({purchaseOrders:e,loading:!1})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/purchase-orders",{headers:na}).then(function(e){return e.json()}).then(function(t){e.setState({purchaseOrders:t.data,loading:!1})})}},{key:"render",value:function(){var e=this,t=[{title:"PO Number",dataIndex:"code",key:"code",render:function(e){return r.a.createElement("a",{href:"javascript:;"},e)}},{title:"PO Date",dataIndex:"orderDate",key:"orderDate",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"Expected Date",dataIndex:"expectedDate",key:"expectedDate",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"Supplier",dataIndex:"supplier.name",key:"supplier"},{title:"Items",dataIndex:"items",key:"items",render:function(e){return r.a.createElement("span",null,e.map(function(e){return r.a.createElement(re.a,{key:e._id},"[".concat(e.item.code,"] - [").concat(e.orderUnits,"]"))}))}},{title:"Status",key:"status",dataIndex:"status"},{title:"Created At",dataIndex:"_createdAt",key:"_createdAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"Updated At",dataIndex:"_updatedAt",key:"_updatedAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"Created By",dataIndex:"createdBy.firstName",key:"createdBy.firstName"},{title:"Updated By",dataIndex:"updatedBy.firstName",key:"updatedBy.firstName"},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:[{key:"edit",name:"Edit"}]})}}];return r.a.createElement("div",null,r.a.createElement(Qt,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults}),r.a.createElement(ce.a,{loading:this.state.loading,rowKey:"_id",columns:t,dataSource:this.state.purchaseOrders}))}}]),t}(n.Component),ia={"Content-Type":"application/json"};j.getToken()&&(ia.Authorization="Bearer ".concat(j.getToken()));var la=Le.a.Option,oa=1,sa=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).itemIndex=0,a.state={itemCreateFormVisible:!1,supplierList:[],lotNumberList:[],shipmentModeList:[],packingTypeList:[],measuringTypes:[],itemList:[],removedOrderItems:[],intervalIsSet:!1,purchaseOrder:null,searchResults:[],searchVisible:!1,modalType:"Create"},a.getSupplierList=function(){K.a.get("/suppliers",{headers:ia}).then(function(e){e.data&&a.setState({supplierList:e.data.data})}).catch(function(e){return console.log(e)})},a.getLotNumberList=function(){K.a.get("/lot-numbers",{headers:ia}).then(function(e){e.data&&a.setState({lotNumberList:e.data.data})}).catch(function(e){return console.log(e)})},a.getShipmentModeList=function(){K.a.get("/shipment-modes",{headers:ia}).then(function(e){e.data&&(console.log("ShipmentMode: ",e.data.data),a.setState({shipmentModeList:e.data.data}))}).catch(function(e){return console.log(e)})},a.getPackingTypeList=function(){K.a.get("/packing-types",{headers:ia}).then(function(e){e.data&&a.setState({packingTypeList:e.data.data})}).catch(function(e){return console.log(e)})},a.getMeasuringTypes=function(){K.a.get("/measuring-types",{headers:ia}).then(function(e){e.data&&a.setState({measuringTypes:e.data.data})})},a.getPurchaseOrder=function(e){K.a.get("/purchase-orders/".concat(e),{headers:ia}).then(function(e){if(e.data){var t=e.data.data,n=[],r={},i={},l={};e.data.data.items.forEach(function(e){n.push(e.item),r[e.item._id]=e.unitWeight,i[e.item._id]=e.measuringType._id,l[e.item._id]=e.units}),t.unitWeight=r,t.measuringType=i,t.units=l,console.log("Edit PO: ",t),a.setState({purchaseOrder:t,itemList:n,modalType:"Edit"})}})},a.getPurchaseOrders=function(){K.a.get("/purchase-orders",{headers:ia}).then(function(e){e.data&&a.setState({purchaseOrders:e.data.data})}).catch(function(e){return console.log(e)})},a.createPurchaseOrder=function(e){K.a.post("/purchase-orders",e,{headers:ia})},a.showItemCreateFormModal=function(){a.setState({itemCreateFormVisible:!0})},a.handleFormChange=function(e){a.setState(function(t){var a=t.purchaseOrder;return{purchaseOrder:Object(ee.a)({},a,e)}})},a.handleCancel=function(){a.setState({itemCreateFormVisible:!1})},a.handleCreate=function(){var e=a.formRef.props.form;e.validateFields(function(t,n){if(!t){n.key=oa++,n.item.packingTypeName="";var r=a.state.packingTypeList.find(function(e){return e._id===n.item.packingType});r&&(n.item.packingTypeName=r.name),e.resetFields(),a.setState({itemList:[].concat(Object($.a)(a.state.itemList),[n]),itemCreateFormVisible:!1})}})},a.handleAddItem=function(e){var t=Object(ee.a)({},e);t.key=a.itemIndex,a.setState({itemList:[].concat(Object($.a)(a.state.itemList),[t])}),a.itemIndex+=1},a.handleRemoveItem=function(e){var t=a.state.itemList;t.includes(e)&&(t.splice(t.indexOf(e),1),a.setState({itemList:t,removedOrderItems:[].concat(Object($.a)(a.state.removedOrderItems),[e._id])}))},a.calculateTotalNetWeight=function(){var e=a.state.purchaseOrder;console.log("List:",e.netWeight),e.netWeight=e.netWeight.reduce(function(e,t){return e+t}),a.setState({purchaseOrder:e})},a.showSearchDrawer=function(){a.setState({searchVisible:!0})},a.handleOnClose=function(){a.setState({searchVisible:!1})},a.saveFormRef=function(e){a.formRef=e},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||(t.items=a.state.itemList.map(function(e){return{item:e._id,lotNumber:t.lotNumber[e.key],units:t.units[e.key],netWeight:t.netWeight[e.key],grossWeight:t.grossWeight[e.key]}}),delete t.lotNumber,delete t.units,delete t.netWeight,delete t.grossWeight,t.netWeight=t.items.map(function(e){return e.netWeight}).reduce(function(e,t){return e+t}),t.grossWeight=t.items.map(function(e){return e.grossWeight}).reduce(function(e,t){return e+t}),a.state.purchaseOrder?K.a.put("/purchase-orders/".concat(a.state.purchaseOrder._id),t,{headers:ia}).then(function(e){a.props.history.push("/purchase-orders/list")}).catch(function(e){return console.error(e)}):(a.createPurchaseOrder(t),K.a.post("/purchase-orders",t,{headers:ia}).then(function(e){a.props.history.push("/purchase-orders/list")}).catch(function(e){return console.error(e)})))})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getSupplierList(),this.getLotNumberList(),this.props.match.params.id&&this.getPurchaseOrder(this.props.match.params.id)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.supplierList,i=a.lotNumberList,l=a.purchaseOrder,o=[{title:"Item Description",key:"description",render:function(e,t){return"".concat(t.code," # ").concat(t.name)}},{title:"Merge",dataIndex:"lotNumber",key:"lotNumber",render:function(e,a){return r.a.createElement(P.a.Item,{key:a.key,style:{marginBottom:"0"},hasFeedback:!0},t("lotNumber[".concat(a.key,"]"),{initialValue:l&&l.lotNumber[a.key],rules:[{required:!0,message:"Please enter LOT number(Merge)"}]})(r.a.createElement(ae.a,{dataSource:i.map(function(e){return e.lotNumber}),filterOption:!0,placeholder:"LOT Number(Merge)"},r.a.createElement(q.a,{suffix:r.a.createElement(S.a,{type:"search"})}))))}},{title:"# of Box",dataIndex:"units",key:"units",render:function(e,a){return r.a.createElement(P.a.Item,{key:a.key,style:{marginBottom:"0"},hasFeedback:!0},t("units[".concat(a.key,"]"),{initialValue:l&&l.units[a.key],rules:[{required:!0,message:"Please enter #of box"}]})(r.a.createElement(ne.a,{placeholder:"#of box"})))}},{title:"Net Weight",dataIndex:"netWeight",key:"netWeight",render:function(e,a){return r.a.createElement(P.a.Item,{key:a.key,style:{marginBottom:"0"},hasFeedback:!0},t("netWeight[".concat(a.key,"]"),{initialValue:l&&l.netWeight[a.key],rules:[{required:!0,message:"Please enter net weight"}]})(r.a.createElement(ne.a,{placeholder:"Net Weight"})))}},{title:"Gross Weight",dataIndex:"grossWeight",key:"grossWeight",render:function(e,a){return r.a.createElement(P.a.Item,{key:a.key,style:{marginBottom:"0"},hasFeedback:!0},t("grossWeight[".concat(a.key,"]"),{initialValue:l&&l.grossWeight[a.key],rules:[{required:!0,message:"Please enter gross weight"}]})(r.a.createElement(ne.a,{placeholder:"Gross Weight"})))}},{title:"",key:"operation",render:function(t,a){return r.a.createElement(U.a,{type:"primary",icon:"close",onClick:function(t){t.stopPropagation(),e.handleRemoveItem(a)}})}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{title:"Detail Packing List",bordered:!1},r.a.createElement(P.a,{layout:"vertical",onSubmit:this.handleSubmit},r.a.createElement(W.a,{gutter:16},r.a.createElement(le.a,{lg:6,md:12,sm:24},r.a.createElement(P.a.Item,{label:"Packing List No",hasFeedback:!0},t("code",{initialValue:l&&l.code,rules:[{required:!0,message:"Please enter purchase order number"}]})(r.a.createElement(q.a,{placeholder:"Purchase order number"})))),r.a.createElement(le.a,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},r.a.createElement(P.a.Item,{label:"Date",hasFeedback:!0},t("orderDate",{rules:[{required:!0,message:"Please enter valid date"}],initialValue:l&&l.orderDate?ve()(this.state.purchaseOrder.orderDate):null})(r.a.createElement(oe.a,{placeholder:"Order date",format:"YYYY-MM-DD"}))))),r.a.createElement(W.a,{gutter:16},r.a.createElement(le.a,{lg:6,md:12,sm:24},r.a.createElement(P.a.Item,{label:"Supplier",hasFeedback:!0},t("supplier",{initialValue:l&&l.supplier.name,rules:[{required:!0,message:"Please select a supplier"}]})(r.a.createElement(Le.a,{placeholder:"Please select a supplier"},n.map(function(e){return r.a.createElement(la,{value:e._id,key:e._id},e.name)}))))),r.a.createElement(le.a,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},r.a.createElement(P.a.Item,{label:"Received Date",hasFeedback:!0},t("receivedDate",{rules:[{required:!1,message:"Please enter valid date"}],initialValue:l&&l.receivedDate?ve()(this.state.purchaseOrder.receivedDate):null})(r.a.createElement(oe.a,{placeholder:"Received date",format:"YYYY-MM-DD"}))))),r.a.createElement(W.a,{gutter:16},r.a.createElement(le.a,{lg:6,md:12,sm:24},l&&l.netWeight),r.a.createElement(le.a,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},l&&l.grossWeight)),r.a.createElement(se.a,{orientation:"left"},"Material details -"," ",r.a.createElement(U.a,{type:"primary",onClick:this.showSearchDrawer},r.a.createElement(S.a,{type:"plus"}),"Add Material")),r.a.createElement(pe,{onAddItem:this.handleAddItem,onClose:this.handleOnClose,visible:this.state.searchVisible}),this.state.itemList.length>0&&r.a.createElement(ce.a,{pagination:!1,columns:o,dataSource:this.state.itemList}),r.a.createElement(se.a,null),r.a.createElement(U.a,{type:"primary",htmlType:"submit",disabled:0===this.state.itemList.length},"".concat(this.state.modalType," Packing List")))))}}]),t}(n.Component),ca=P.a.create()(sa),da=a(434),ua=a(441),ma={"Content-Type":"application/json"};j.getToken()&&(ma.Authorization="Bearer ".concat(j.getToken()));var ha=Le.a.Option,pa=0,fa=function(e){function t(){var e,a,n;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state=(a={loading:!0,purchaseOrder:{code:"",subCode:"",orderDate:null,expectedDate:null,supplier:{_id:""},shipmentMode:"",items:[]},stockItems:[],orderItems:[],receivedItems:[],existingReceivedItems:[]},Object(Te.a)(a,"stockItems",[]),Object(Te.a)(a,"measuringTypes",[]),Object(Te.a)(a,"storeBins",[]),Object(Te.a)(a,"modalVisible",!1),Object(Te.a)(a,"stockUpdate",!1),Object(Te.a)(a,"modalType","create"),Object(Te.a)(a,"currentItem",{}),Object(Te.a)(a,"lotNumbers",[]),a),n.formLayout={labelCol:{span:7},wrapperCol:{span:13}},n.getPurchaseOrder=function(e){e&&fetch("/purchase-orders/".concat(n.props.match.params.id),{headers:ma}).then(function(e){return e.json()}).then(function(e){var t=e.data.items;n.setState({purchaseOrder:e.data,orderItems:t})})},n.getMeasuringTypes=function(){K.a.get("/measuring-types",{headers:ma}).then(function(e){e.data&&n.setState({measuringTypes:e.data.data})})},n.getStoreBins=function(){n.setState({loading:!0}),K.a.get("/bins",{headers:ma}).then(function(e){e.data&&n.setState({storeBins:e.data.data,loading:!1})})},n.getStockItemsByPurchaseOrder=function(e){e&&fetch("/bins/stocks/".concat(e),{headers:ma}).then(function(e){return e.json()}).then(function(e){n.setState({stockItems:e.data})})},n.purchaseOrderUpdate=function(e){K.a.post("/purchase-orders/".concat(e._id,"/stocks-update"),e,{headers:ma}).then(function(e){n.props.history.push("/purchase-orders/list")}).catch(function(e){return console.error(e)})},n.binStockBatchInsert=function(e){K.a.post("/bins/stocks/batch",e,{headers:ma}).then(function(e){n.props.history.push("/purchase-orders/list")}).catch(function(e){return console.error(e)})},n.createBinStock=function(e){K.a.post("/bins/".concat(e.stockItem.bin,"/stocks"),e,{headers:ma}).then(function(e){n.setState({modalVisible:!1,stockUpdate:!1}),window.location.reload()}).catch(function(e){n.setState({modalVisible:!1,stockUpdate:!1}),console.error(e)})},n.handleRefresh=function(){n.setState({loading:!0}),K.a.get("/purchase-orders",{headers:ma}).then(function(e){e.data&&n.setState({purchaseOrders:e.data.data,loading:!1})}).catch(function(e){return console.error(e)})},n.showModal=function(){n.setState({modalVisible:!0,currentItem:{}})},n.handleModalSubmit=function(e){e.preventDefault(),e.stopPropagation();var t=n.props.form,a=n.state,r=(a.receivedItems,a.orderItems),i=a.storeBins;t.validateFields(function(e,a){if(!e){n.setState({stockUpdate:!0});var l={};l.key=pa++;var o=r.find(function(e){return e.lotNumber===a.lotNumber}),s=i.find(function(e){return e.code===a.bin});l.orderItem=o._id,l.bin=s._id,l.units=a.stockUnits,l.lotNumber=o.lotNumber,l.itemCode=o.item.code,l.binCode=s.code,console.log("Stock Item:",l),t.resetFields(),n.createBinStock({stockItem:l})}})},n.handleCancel=function(){n.props.form.resetFields(),n.setState({modalVisible:!1})},n.showEditModal=function(e){n.setState({modalVisible:!0,modalType:"update"})},n.showAddStockModal=function(e){n.setState({modalVisible:!0,currentItem:e})},n.handleMenuClick=function(e,t){"delete"===t.key&&n.deleteItem(e)},n.deleteItem=function(e){Ee.a.confirm({title:"Delete received item",content:"Do you want to delete this item?",onOk:function(){return n.handleDelete(e)}})},n.handleDelete=function(e){var t=n.state.receivedItems;t.includes(e)&&(t.splice(t.indexOf(e),1),n.setState({receivedItems:t}))},n.handleItemReceived=function(e){e.preventDefault(),e.stopPropagation();var t=n.state.receivedItems,a=[];t.forEach(function(e){var t={};t.bin=e.bin._id,t.orderItem=e.orderItem._id,t.lotNumber=e.orderItem.lotNumber,t.itemCode=e.orderItem.item.code,t.binCode=e.bin.code;for(var n=e.runningNumerFrom;n<e.units+e.runningNumerFrom;n++)t.runningNumber=n+"/"+e.orderItem.units,a.push(Object.assign({},t))}),console.log("Bin Stocks: ",a),n.binStockBatchInsert({stockItems:a})},n.calculatePendingQuantity=function(e,t){if(t.length>0){var a=t.filter(function(t){return t.item._id===e.item._id});if(a.length>0){var n=0;return a.forEach(function(e){n+=e.unitWeight*e.units}),e.pendingQuantity-n}}return e.pendingQuantity},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params&&(this.getPurchaseOrder(this.props.match.params.id),this.getStoreBins(),this.getStockItemsByPurchaseOrder(this.props.match.params.id))}},{key:"render",value:function(){var e=this,t=this.state,a=t.purchaseOrder,n=t.orderItems,i=t.stockItems,l=t.storeBins,o=t.currentItem,s=void 0===o?{}:o,c=t.loading,d=t.stockUpdate,u=this.props.form.getFieldDecorator,m={visible:this.state.modalVisible,maskClosable:!1,title:"create"===this.state.modalType?"Add Stock":"Update Stock",centered:!0,width:1e3,bodyStyle:{padding:3}},h=[{title:"Item Description",key:"description",render:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,t.item.code," # ",t.item.name),r.a.createElement(da.a,{percent:t.receivedUnits/t.units*100}))}},{title:"Merge",dataIndex:"lotNumber",key:"lotNumber"},{title:"Box",dataIndex:"units",key:"units"},{title:"Net Weight",dataIndex:"netWeight",key:"netWeight",render:function(e){return Number(e).toFixed(2)}},{title:"Gross Weight",dataIndex:"grossWeight",key:"grossWeight",render:function(e){return Number(e).toFixed(2)}},{title:"",key:"addStock",render:function(t,a){if(a.units-a.receivedUnits!==0)return r.a.createElement(U.a,{type:"primary",onClick:function(t){t.preventDefault(),e.showAddStockModal(a)}},r.a.createElement(S.a,{type:"plus"}),"Stock")}}],p=[{title:"LOT Number(Merge)",dataIndex:"orderItem.lotNumber",key:"orderItem.lotNumber"},{title:"Bin",dataIndex:"bin.code",key:"bin.code"},{title:"Running #",dataIndex:"runningNumber",key:"runningNumber"},{title:"Net Weight",dataIndex:"netWeight",key:"netWeight"},{title:"Gross Weight",dataIndex:"grossWeight",key:"grossWeight"},{title:"Cones",dataIndex:"cones",key:"cones"},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){var a="";return"AVAILABLE"===e&&(a="#87d068"),"RESERVED"===e&&(a="#2db7f5"),"DELIVER"===e&&(a="#108ee9"),"FACTORY_RECEIVED"===e&&(a="#f50"),r.a.createElement(re.a,{color:a},e)}}],f=l.map(function(e){return r.a.createElement(ae.a.Option,{key:e.code},e.code)});return r.a.createElement(de.a,{tip:"Loading...",spinning:c},r.a.createElement(ie.a,{title:"Packing List Details",bordered:!1},r.a.createElement(Ne.a,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},r.a.createElement(Ne.a.Item,{label:"Packing List #"},a.code),r.a.createElement(Ne.a.Item,{label:"Order Date"},ve()(a.orderDate).format("YYYY-MM-DD")),r.a.createElement(Ne.a.Item,{label:"Received Date"},ve()(a.receivedDate).format("YYYY-MM-DD")),r.a.createElement(Ne.a.Item,{label:"Supplier"},a.supplier.name),r.a.createElement(Ne.a.Item,{label:"Net Weight"},"".concat(Number(a.netWeight).toFixed(2)," Kg")),r.a.createElement(Ne.a.Item,{label:"Gross Weight"},"".concat(Number(a.grossWeight).toFixed(2)," Kg")),r.a.createElement(Ne.a.Item,{label:"Status"},r.a.createElement(Ae.a,{status:"processing",text:a.status}))),r.a.createElement(ce.a,{bordered:!0,rowKey:"_id",loading:c,pagination:!1,dataSource:n,columns:h,size:"middle",title:function(){return r.a.createElement("h3",null,"Packing Items")}}),i.length>0&&r.a.createElement(ce.a,{bordered:!0,rowKey:"_id",pagination:!1,dataSource:i,columns:p,size:"middle",title:function(){return r.a.createElement("h3",null,"Stock Items")}})),n.length>0&&r.a.createElement(Ee.a,Object.assign({},m,{onCancel:this.handleCancel,onOk:this.handleModalSubmit}),r.a.createElement(de.a,{tip:"Stock update in-progress...",spinning:d},r.a.createElement(P.a,null,r.a.createElement(P.a.Item,Object.assign({label:"Merge(LOT)",hasFeedback:!0},e.formLayout),u("lotNumber",{initialValue:s.lotNumber,rules:[{required:!0}]})(r.a.createElement(Le.a,{placeholder:"Please select item"},n.map(function(e){return r.a.createElement(ha,{value:e.lotNumber,key:e.lotNumber},e.lotNumber)})))),r.a.createElement(P.a.Item,Object.assign({label:"# of Box (".concat(s.units,")(").concat(s.receivedUnits,")"),hasFeedback:!0},e.formLayout),u("stockUnits",{initialValue:s.stockUnits,rules:[{required:!0}]})(r.a.createElement(ne.a,{placeholder:"# of units",min:0,max:s.units-s.receivedUnits}))),r.a.createElement(P.a.Item,Object.assign({label:"Bin Location",hasFeedback:!0},e.formLayout),u("bin",{initialValue:s.bin,rules:[{required:!0}]})(r.a.createElement(ae.a,{dataSource:f,filterOption:!0,placeholder:"Bin location"},r.a.createElement(q.a,{suffix:r.a.createElement(S.a,{type:"search"})})))),r.a.createElement(ua.a,{grid:{gutter:24,xs:1,sm:2,md:4,lg:4,xl:12,xxl:3},style:{padding:10},dataSource:l,renderItem:function(e){return r.a.createElement(ua.a.Item,null,r.a.createElement(Ae.a,{count:e.stockItems.length},r.a.createElement("span",{className:"head-example",style:{width:42,height:42,backgroundColor:"rgb(238, 238, 238)",borderRadius:4,display:"inline-block",verticalAlign:"middle"}},r.a.createElement("b",null,e.code))))}})))))}}]),t}(n.Component),ga=P.a.create()(fa),ya=a(212),ba=a.n(ya),Ea={"Content-Type":"application/json"};j.getToken()&&(Ea.Authorization="Bearer ".concat(j.getToken()));var ka={width:"25%",padding:"0px"},va=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={stockItems:[],loading:!1},a.getStockItemsByPurchaseOrder=function(e){e&&(a.setState({loading:!0}),fetch("/bins/stocks/".concat(e),{headers:Ea}).then(function(e){return e.json()}).then(function(e){a.setState({stockItems:e.data,loading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params&&this.getStockItemsByPurchaseOrder(this.props.match.params.id)}},{key:"render",value:function(){var e=this,t=this.state,a=t.stockItems,n=t.loading;return r.a.createElement("div",null,r.a.createElement(de.a,{tip:"Loading...",spinning:n},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:20},md:{span:20}}),r.a.createElement(le.a,{xl:{span:2},md:{span:2}},a.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ba.a,{trigger:function(){return r.a.createElement(U.a,null,"Print")},content:function(){return e.componentRef}}),r.a.createElement("div",{style:{display:"none"}},r.a.createElement(ie.a,{ref:function(t){return e.componentRef=t}},a.map(function(e){return r.a.createElement(ie.a.Grid,{style:ka,key:"_id"},r.a.createElement(Ne.a,{bordered:!0,size:"small",column:{xxl:1,xl:1,lg:1,md:1,sm:1,xs:1}},r.a.createElement(Ne.a.Item,{label:"Merge"},e.orderItem.lotNumber),r.a.createElement(Ne.a.Item,{label:"Bin"},e.bin.code),r.a.createElement(Ne.a.Item,{label:"Running #"},e.runningNumber),r.a.createElement(Ne.a.Item,{label:"Net Weight"},e.netWeight),r.a.createElement(Ne.a.Item,{label:"Gross Weight"},e.grossWeight),r.a.createElement(Ne.a.Item,{label:"Cones"},e.cones)))})))))),r.a.createElement(ie.a,{title:"Stock Items"},a.map(function(e){return r.a.createElement(ie.a.Grid,{style:ka,key:"_id"},r.a.createElement(Ne.a,{bordered:!0,size:"small",column:{xxl:1,xl:1,lg:1,md:1,sm:1,xs:1}},r.a.createElement(Ne.a.Item,{label:"Merge"},e.orderItem.lotNumber),r.a.createElement(Ne.a.Item,{label:"Bin"},e.bin.code),r.a.createElement(Ne.a.Item,{label:"Running #"},e.runningNumber),r.a.createElement(Ne.a.Item,{label:"Net Weight"},e.netWeight),r.a.createElement(Ne.a.Item,{label:"Gross Weight"},e.grossWeight),r.a.createElement(Ne.a.Item,{label:"Cones"},e.cones)))}))))}}]),t}(n.Component),Sa={"Content-Type":"application/json"};j.getToken()&&(Sa.Authorization="Bearer ".concat(j.getToken()));var Ia=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,purchaseOrder:{code:"",subCode:"",orderDate:null,expectedDate:null,supplier:{_id:""},shipmentMode:"",items:[]},stockItems:[],orderItems:[]},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.getPackingList=function(e){e&&(a.setState({loading:!0}),fetch("/purchase-orders/".concat(a.props.match.params.id),{headers:Sa}).then(function(e){return e.json()}).then(function(e){var t=e.data.items;a.setState({purchaseOrder:e.data,orderItems:t,loading:!1})}))},a.getStockItemsByPurchaseOrder=function(e){e&&fetch("/bins/stocks/".concat(e),{headers:Sa}).then(function(e){return e.json()}).then(function(e){a.setState({stockItems:e.data})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params&&(this.getPackingList(this.props.match.params.id),this.getStockItemsByPurchaseOrder(this.props.match.params.id))}},{key:"render",value:function(){var e=this.state,t=e.purchaseOrder,a=e.orderItems,n=e.stockItems,i=e.loading,l=[{title:"Item Description",key:"description",render:function(e,t){return r.a.createElement("span",null,t.item.code," # ",t.item.name)}},{title:"Merge",dataIndex:"lotNumber",key:"lotNumber"},{title:"Box",dataIndex:"units",key:"units"},{title:"Net Weight",dataIndex:"netWeight",key:"netWeight",render:function(e){return Number(e).toFixed(2)}},{title:"Gross Weight",dataIndex:"grossWeight",key:"grossWeight",render:function(e){return Number(e).toFixed(2)}}],o=[{title:"LOT Number(Merge)",dataIndex:"orderItem.lotNumber",key:"orderItem.lotNumber"},{title:"Bin",dataIndex:"bin.code",key:"bin.code"},{title:"Running #",dataIndex:"runningNumber",key:"runningNumber"},{title:"Net Weight",dataIndex:"netWeight",key:"netWeight"},{title:"Gross Weight",dataIndex:"grossWeight",key:"grossWeight"},{title:"Cones",dataIndex:"cones",key:"cones"},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){var a="";return"AVAILABLE"===e&&(a="#87d068"),"RESERVED"===e&&(a="#2db7f5"),"DELIVER"===e&&(a="#108ee9"),"FACTORY_RECEIVED"===e&&(a="#f50"),r.a.createElement(re.a,{color:a},e)}}];return r.a.createElement(de.a,{tip:"Loading...",spinning:i},r.a.createElement(ie.a,{title:"Packing List Details",bordered:!1},r.a.createElement(Ne.a,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},r.a.createElement(Ne.a.Item,{label:"Packing List #"},t.code),r.a.createElement(Ne.a.Item,{label:"Order Date"},ve()(t.orderDate).format("YYYY-MM-DD")),r.a.createElement(Ne.a.Item,{label:"Received Date"},ve()(t.receivedDate).format("YYYY-MM-DD")),r.a.createElement(Ne.a.Item,{label:"Supplier"},t.supplier.name),r.a.createElement(Ne.a.Item,{label:"Net Weight"},"".concat(Number(t.netWeight).toFixed(2)," Kg")),r.a.createElement(Ne.a.Item,{label:"Gross Weight"},"".concat(Number(t.grossWeight).toFixed(2)," Kg")),r.a.createElement(Ne.a.Item,{label:"Status"},r.a.createElement(Ae.a,{status:"processing",text:t.status}))),r.a.createElement(ce.a,{rowKey:"_id",loading:i,pagination:!1,dataSource:a,columns:l,size:"middle",title:function(){return r.a.createElement("h3",null,"Packing Items")}}),n.length>0&&r.a.createElement(ce.a,{rowKey:"_id",pagination:!1,dataSource:n,columns:o,size:"middle",title:function(){return r.a.createElement("h3",null,"Stock Items")}})))}}]),t}(n.Component),Oa={"Content-Type":"application/json"};j.getToken()&&(Oa.Authorization="Bearer ".concat(j.getToken()));var Ra=q.a.Search,Ca=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),ja=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.props.showSearchLoading(!0),console.log("Search: ",t),K.a.post("/deliveries/requests/filter",t,{headers:Oa}).then(function(e){e.data&&a.props.onSearchResults(e.data.data)}))})},a.handleReset=function(e){a.props.form.resetFields(),a.handleSearch(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSearch,layout:"inline"},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:4},md:{span:12}},e("materialRequest.refNumber")(r.a.createElement(Ra,{placeholder:"Search Delivery Number"}))),r.a.createElement(le.a,Object.assign({},Ca,{xl:{span:20},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset"))))))}}]),t}(n.Component),Da=P.a.create()(ja),xa={"Content-Type":"application/json"};j.getToken()&&(xa.Authorization="Bearer ".concat(j.getToken()));var Na=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={deliveryRequests:[],selectedRowKeys:[],loading:!1,loadingDelivery:!1},a.handleRefresh=function(){a.setState({loading:!0}),K.a.get("/material-requests?status=DELIVERY_REQUEST",{headers:xa}).then(function(e){e.data&&a.setState({deliveryRequests:e.data.data,loading:!1})}).catch(function(e){return console.log(e)})},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.handleMenuClick=function(e,t){"view"===t.key?a.props.history.push("/deliveries/add/".concat(e._id)):"createDelivery"===t.key&&a.props.history.push("/deliveries/add/".concat(e._id))},a.getOperationTasks=function(e){var t=[];return t.push({key:"view",name:"View"}),t.push({key:"createDelivery",name:"Create delivery"}),t},a.howSearchLoading=function(e){a.setState({loading:e})},a.handleSearchResults=function(e){a.setState({deliveryRequests:e,loading:!1})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleRefresh()}},{key:"render",value:function(){var e=this,t=(this.state.selectedRowKeys,this.onSelectChange,[{title:"Reqest Ref #",dataIndex:"refNumber",key:"refNumber"},{title:"Delivery Location",dataIndex:"deliveryLocation",key:"deliveryLocation"},{title:"Requested Date",dataIndex:"requestedDate",key:"requestedDate",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"Created Date",dataIndex:"createdDate",key:"createdDate",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"Contact Person",dataIndex:"contactPerson",key:"contactPerson"},{title:"Contact Number",dataIndex:"contactNumber",key:"contactNumber"},{title:"Status",dataIndex:"status",key:"status",render:function(e){return r.a.createElement(re.a,{color:"volcano"},e)}},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:e.getOperationTasks(a)})}}]);return r.a.createElement("div",null,r.a.createElement(Da,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults}),r.a.createElement(ce.a,{loading:this.state.loading,rowKey:"_id",columns:t,dataSource:this.state.deliveryRequests}))}}]),t}(n.Component),Aa=P.a.create()(Na);j.getToken()&&"Bearer ".concat(j.getToken());var Ma={fontSize:16,color:"rgba(0,0,0,0.85)",lineHeight:"24px",display:"block",marginBottom:16},wa=function(e){var t=e.title,a=e.content;return r.a.createElement("div",{style:{fontSize:14,lineHeight:"22px",marginBottom:7,color:"rgba(0,0,0,0.65)"}},r.a.createElement("p",{style:{marginRight:8,display:"inline-block",color:"rgba(0,0,0,0.85)"}},t,":"),a)},Ta=function(e){var t=e.delivery,a=e.visible,n=e.onClose,i=[{title:"Item Code",dataIndex:"receiveItem.item.code",key:"code"},{title:"Name",dataIndex:"receiveItem.item.name",key:"name"},{title:"PO Number",dataIndex:"receiveItem.purchaseOrder.code",key:"poNumber"},{title:"Units",dataIndex:"units",key:"units"}];return r.a.createElement(ue.a,{width:640,placement:"right",closable:!1,onClose:n,visible:a},r.a.createElement("p",{style:Object(ee.a)({},Ma,{marginBottom:24})},"Delivery Details"),t&&t.deliveryRequest&&t.deliveryRequest.materialRequest&&r.a.createElement("div",null,r.a.createElement("p",{style:Ma},"Meterial Request"),r.a.createElement(W.a,null,r.a.createElement(le.a,{span:12},r.a.createElement(wa,{title:"Delivery Number",content:t.deliveryRequest.materialRequest.refNumber})),r.a.createElement(le.a,{span:12},r.a.createElement(wa,{title:"Vehicle Number",content:t.vehicleNumber}))),r.a.createElement(W.a,null,r.a.createElement(le.a,{span:12},r.a.createElement(wa,{title:"Delivery Location",content:t.deliveryRequest.materialRequest.deliveryLocation})),r.a.createElement(le.a,{span:12},r.a.createElement(wa,{title:"Departure Time",content:ve()(t.departureDateTime).format("YYYY-MM-DD hh:mm:ss")}))),r.a.createElement(W.a,null,r.a.createElement(le.a,{span:12},r.a.createElement(wa,{title:"Contact Person",content:t.deliveryRequest.materialRequest.contactPerson})),r.a.createElement(le.a,{span:12},r.a.createElement(wa,{title:"Contact Number",content:t.deliveryRequest.materialRequest.contactNumber}))),r.a.createElement(W.a,null,r.a.createElement(le.a,{span:24},r.a.createElement(wa,{title:"Status",content:t.status}))),r.a.createElement(se.a,null),r.a.createElement("p",{style:Ma},"Deliver Items"),r.a.createElement(ce.a,{rowKey:"_id",pagination:!1,columns:i,dataSource:t.deliveryRequest&&t.deliveryRequest.items})))},La={"Content-Type":"application/json"};j.getToken()&&(La.Authorization="Bearer ".concat(j.getToken()));var Fa=q.a.Search,Ya=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),Va=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.props.showSearchLoading(!0),console.log("Search: ",t),K.a.post("/deliveries/filter",t,{headers:La}).then(function(e){e.data&&a.props.onSearchResults(e.data.data)}))})},a.handleReset=function(e){a.props.form.resetFields(),a.handleSearch(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSearch,layout:"inline"},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:4},md:{span:12}},e("deliveryRequest.materialRequest.refNumber")(r.a.createElement(Fa,{placeholder:"Search Delivery Number"}))),r.a.createElement(le.a,Object.assign({},Ya,{xl:{span:20},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset"))))))}}]),t}(n.Component),Pa=P.a.create()(Va),Ba={"Content-Type":"application/json"};j.getToken()&&(Ba.Authorization="Bearer ".concat(j.getToken()));var qa=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={deliveries:[],loading:!1,viewProps:{},viewVisible:!1,currentItem:{}},a.handleRefresh=function(){a.setState({loading:!0}),K.a.get("/deliveries",{headers:Ba}).then(function(e){e.data&&a.setState({deliveries:e.data.data,loading:!1})}).catch(function(e){return console.log(e)})},a.handleViewOnClose=function(){a.setState({viewVisible:!1,currentItem:{}})},a.handleMenuClick=function(e,t){"view"===t.key?a.props.history.push("/deliveries/view/".concat(e._id)):"edit"===t.key&&a.props.history.push("/deliveries/edit/".concat(e._id))},a.getOperationTasks=function(e){var t=[];return t.push({key:"view",name:"View"}),"PENDING"===e.status&&t.push({key:"edit",name:"Update"}),t},a.showSearchLoading=function(e){a.setState({loading:e})},a.handleSearchResults=function(e){a.setState({deliveries:e,loading:!1})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleRefresh()}},{key:"render",value:function(){var e=this,t=this.state.viewVisible,a=[{title:"Delivery ID",dataIndex:"materialRequest.refNumber",key:"refNumber"},{title:"Vehicle #",dataIndex:"vehicleNumber",key:"vehicleNumber"},{title:"Departure Time",dataIndex:"departureDateTime",key:"departureDateTime",render:function(e){return ve()(e).format("YYYY-MM-DD hh:mm:ss")}},{title:"Location",dataIndex:"materialRequest.deliveryLocation",key:"deliveryLocation"},{title:"Contact",dataIndex:"materialRequest.contactPerson",key:"contactPerson"},{title:"Contact #",dataIndex:"materialRequest.contactNumber",key:"contactNumber"},{title:"Created At",dataIndex:"createdAt",key:"createdAt",render:function(e){return ve()(e).format("YYYY-MM-DD")}},{title:"Updated By",dataIndex:"updatedBy.firstName",key:"updatedBy.firstName"},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){var a="";return"PENDING"===e&&(a="volcano"),"FACTORY_RECEIVED"===e&&(a="#87d068"),r.a.createElement(re.a,{color:a},e)}},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:e.getOperationTasks(a)})}}];return r.a.createElement("div",null,r.a.createElement(Pa,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults}),r.a.createElement(ce.a,{loading:this.state.loading,rowKey:"_id",columns:a,dataSource:this.state.deliveries}),r.a.createElement(Ta,{visible:t,onClose:this.handleViewOnClose,delivery:this.state.currentItem}))}}]),t}(n.Component),Wa=P.a.create()(qa),Ua={"Content-Type":"application/json"};j.getToken()&&(Ua.Authorization="Bearer ".concat(j.getToken()));var za=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={materialRequest:{},stockItems:[],selectedRowKeys:[],loading:!1},a.createDelivery=function(e){K.a.post("/deliveries",e,{headers:Ua}).then(function(e){a.props.history.push("/deliveries")})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||(t.materialRequest=a.state.materialRequest._id,a.createDelivery(t))})},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),K.a.get("/material-requests/".concat(this.props.match.params.id),{headers:Ua}).then(function(t){var a=t.data.data,n=a.items.map(function(e){return e.stockItems}).reduce(function(e,t){return e.concat(t)});e.setState({materialRequest:a,stockItems:n,loading:!1})}).catch(function(t){console.error(t),e.setState({loading:!1})})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.loading,n=t.materialRequest,i=t.stockItems,l=t.selectedRowKeys,o={selectedRowKeys:l,onChange:this.onSelectChange},s={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:8}}},c=[{title:"LOT Number(Merge)",dataIndex:"lotNumber",key:"lotNumber"},{title:"Bin",dataIndex:"binCode",key:"binCode"},{title:"Running #",dataIndex:"runningNumber",key:"runningNumber"},{title:"Net Weight",dataIndex:"netWeight",key:"netWeight"},{title:"Gross Weight",dataIndex:"grossWeight",key:"grossWeight"},{title:"Cones",dataIndex:"cones",key:"cones"},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){var a="";return"AVAILABLE"===e&&(a="#87d068"),"RESERVED"===e&&(a="#2db7f5"),"DELIVER"===e&&(a="#108ee9"),"FACTORY_RECEIVED"===e&&(a="#f50"),r.a.createElement(re.a,{color:a},e)}}];return r.a.createElement(ie.a,{title:"Delivery Details",bordered:!1},r.a.createElement(de.a,{tip:"Loading...",spinning:a},r.a.createElement(P.a,{onSubmit:this.handleSubmit},r.a.createElement(P.a.Item,Object.assign({},s,{label:"Vehicle Number",hasFeedback:!0}),e("vehicleNumber",{rules:[{required:!0,message:"Please enter vehicle number"}]})(r.a.createElement(q.a,{placeholder:"Vehicle number"}))),r.a.createElement(P.a.Item,Object.assign({},s,{label:"Departure time",hasFeedback:!0}),e("departureDateTime",{rules:[{required:!0,message:"Please enter departure time"}]})(r.a.createElement(oe.a,{showTime:!0,placeholder:"Select date and time",format:"YYYY-MM-DD hh:mm:ss"}))),r.a.createElement(se.a,{orientation:"left"},"Material Request details"),r.a.createElement(Ne.a,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},r.a.createElement(Ne.a.Item,{label:"Reference Number"},n.refNumber),r.a.createElement(Ne.a.Item,{label:"Requested Date"},ve()(n.requestedDate).format("YYYY-MM-DD")),r.a.createElement(Ne.a.Item,{label:"Delivery Location"},n.deliveryLocation),r.a.createElement(Ne.a.Item,{label:"Contact Person"},n.contactPerson),r.a.createElement(Ne.a.Item,{label:"Contact Number"},n.contactNumber),r.a.createElement(Ne.a.Item,{label:"Status",span:3},r.a.createElement(Ae.a,{status:"processing",text:n.status}))),r.a.createElement(se.a,{orientation:"left"},"Requested Items"),r.a.createElement(ce.a,{rowKey:"_id",pagination:!1,dataSource:n.items,columns:[{title:"Item Description",key:"description",render:function(e,t){return"".concat(t.item.code," # ").concat(t.item.name)}},{title:"Merge",dataIndex:"lotNumber",key:"lotNumber"},{title:"# of Box",dataIndex:"units",key:"units"}]}),i.length>0&&r.a.createElement("div",null,r.a.createElement(se.a,{orientation:"left"},"Stock Items"),r.a.createElement(ce.a,{rowKey:"_id",pagination:!1,dataSource:i,columns:c,rowSelection:o,size:"middle"})),r.a.createElement(U.a,{type:"primary",htmlType:"submit",style:{marginTop:40},disabled:i.length!==l.length},"Create Delivery"))))}}]),t}(n.Component),Ka=P.a.create()(za),_a={"Content-Type":"application/json"};j.getToken()&&(_a.Authorization="Bearer ".concat(j.getToken()));var Ga=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={delivery:{},stockItems:[],selectedRowKeys:[],loading:!1},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||(t.status="FACTORY_RECEIVED",t.stockItems=a.state.selectedRowKeys,K.a.put("/deliveries/".concat(a.state.delivery._id),t,{headers:_a}).then(function(e){a.props.history.push("/deliveries")}).catch(function(e){return console.error(e)}))})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),fetch("/deliveries/".concat(this.props.match.params.id),{headers:_a}).then(function(e){return e.json()}).then(function(t){var a=t.data,n=a.materialRequest.items.map(function(e){return e.stockItems}).reduce(function(e,t){return e.concat(t)});e.setState({delivery:a,stockItems:n,loading:!1})}).catch(function(t){e.setState({loading:!1}),console.err(t)})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.delivery,n=t.stockItems,i=t.loading,l=t.selectedRowKeys,o={selectedRowKeys:l,onChange:this.onSelectChange},s=[{title:"LOT Number(Merge)",dataIndex:"lotNumber",key:"lotNumber"},{title:"Bin",dataIndex:"binCode",key:"binCode"},{title:"Running #",dataIndex:"runningNumber",key:"runningNumber"},{title:"Net Weight",dataIndex:"netWeight",key:"netWeight"},{title:"Gross Weight",dataIndex:"grossWeight",key:"grossWeight"},{title:"Cones",dataIndex:"cones",key:"cones"},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){var a="";return"AVAILABLE"===e&&(a="#87d068"),"RESERVED"===e&&(a="#2db7f5"),"DELIVER"===e&&(a="#108ee9"),"FACTORY_RECEIVED"===e&&(a="#f50"),r.a.createElement(re.a,{color:a},e)}}];return r.a.createElement(ie.a,{title:"Delivery Details",bordered:!1},r.a.createElement(de.a,{tip:"Loading...",spinning:i},r.a.createElement(P.a,{onSubmit:this.handleSubmit},r.a.createElement(P.a.Item,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:8}}},{label:"Arrival Time",hasFeedback:!0}),e("arrivalDateTime",{rules:[{required:!0,message:"Please enter arrival time"}]})(r.a.createElement(oe.a,{showTime:!0,placeholder:"Select arrival time",format:"YYYY-MM-DD hh:mm:ss"}))),a&&a.materialRequest&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Delivery Details"),r.a.createElement(Ne.a,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},r.a.createElement(Ne.a.Item,{label:"Delivery Number"},a.materialRequest.refNumber),r.a.createElement(Ne.a.Item,{label:"Vehicle Number"},a.vehicleNumber),r.a.createElement(Ne.a.Item,{label:"Departure Time"},ve()(a.departureDateTime).format("YYYY-MM-DD hh:mm:ss")),r.a.createElement(Ne.a.Item,{label:"Delivery Location"},a.materialRequest.deliveryLocation),r.a.createElement(Ne.a.Item,{label:"Contact Person"},a.materialRequest.contactPerson),r.a.createElement(Ne.a.Item,{label:"Contact Number"},a.materialRequest.contactNumber),r.a.createElement(Ne.a.Item,{label:"Status",span:3},r.a.createElement(Ae.a,{status:"processing",text:a.status})))),a&&a.materialRequest&&a.materialRequest.items&&r.a.createElement(ce.a,{rowKey:"_id",pagination:!1,dataSource:a.materialRequest.items,columns:[{title:"Item Description",key:"description",render:function(e,t){return"".concat(t.item.code," # ").concat(t.item.name)}},{title:"Merge",dataIndex:"lotNumber",key:"lotNumber"},{title:"# of Box",dataIndex:"units",key:"units"}],size:"middle",title:function(){return r.a.createElement("h3",null,"Requested Item Summary")}}),r.a.createElement(ce.a,{rowKey:"_id",pagination:!1,dataSource:n,columns:s,rowSelection:o,size:"middle",title:function(){return r.a.createElement("h3",null,"Delivery Items")}}),r.a.createElement(U.a,{type:"primary",htmlType:"submit",style:{marginTop:40},disabled:n.length!==l.length},"Confirm Factory Received"))))}}]),t}(n.Component),Qa=P.a.create()(Ga),Ja={"Content-Type":"application/json"};j.getToken()&&(Ja.Authorization="Bearer ".concat(j.getToken()));var Xa=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={delivery:{},stockItems:[],loading:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),fetch("/deliveries/".concat(this.props.match.params.id),{headers:Ja}).then(function(e){return e.json()}).then(function(t){var a=t.data,n=a.materialRequest.items.map(function(e){return e.stockItems}).reduce(function(e,t){return e.concat(t)});e.setState({delivery:a,stockItems:n,loading:!1})}).catch(function(t){e.setState({loading:!1}),console.err(t)})}},{key:"render",value:function(){var e=this.state,t=e.delivery,a=e.stockItems,n=e.loading,i=[{title:"LOT Number(Merge)",dataIndex:"lotNumber",key:"lotNumber"},{title:"Bin",dataIndex:"binCode",key:"binCode"},{title:"Running #",dataIndex:"runningNumber",key:"runningNumber"},{title:"Net Weight",dataIndex:"netWeight",key:"netWeight"},{title:"Gross Weight",dataIndex:"grossWeight",key:"grossWeight"},{title:"Cones",dataIndex:"cones",key:"cones"},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){var a="";return"AVAILABLE"===e&&(a="#87d068"),"RESERVED"===e&&(a="#2db7f5"),"DELIVER"===e&&(a="#108ee9"),"FACTORY_RECEIVED"===e&&(a="#f50"),r.a.createElement(re.a,{color:a},e)}}];return r.a.createElement(ie.a,{title:"Delivery Details",bordered:!1},r.a.createElement(de.a,{tip:"Loading...",spinning:n},t&&t.materialRequest&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Delivery Details"),r.a.createElement(Ne.a,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},r.a.createElement(Ne.a.Item,{label:"Delivery Number"},t.materialRequest.refNumber),r.a.createElement(Ne.a.Item,{label:"Vehicle Number"},t.vehicleNumber),r.a.createElement(Ne.a.Item,{label:"Departure Time"},ve()(t.departureDateTime).format("YYYY-MM-DD hh:mm:ss")),r.a.createElement(Ne.a.Item,{label:"Delivery Location"},t.materialRequest.deliveryLocation),r.a.createElement(Ne.a.Item,{label:"Contact Person"},t.materialRequest.contactPerson),r.a.createElement(Ne.a.Item,{label:"Contact Number"},t.materialRequest.contactNumber),r.a.createElement(Ne.a.Item,{label:"Status",span:3},r.a.createElement(Ae.a,{status:"processing",text:t.status})))),t&&t.materialRequest&&t.materialRequest.items&&r.a.createElement(ce.a,{rowKey:"_id",pagination:!1,dataSource:t.materialRequest.items,columns:[{title:"Item Description",key:"description",render:function(e,t){return"".concat(t.item.code," # ").concat(t.item.name)}},{title:"Merge",dataIndex:"lotNumber",key:"lotNumber"},{title:"# of Box",dataIndex:"units",key:"units"}],size:"middle",title:function(){return r.a.createElement("h3",null,"Requested Item Summary")}}),r.a.createElement(ce.a,{rowKey:"_id",pagination:!1,dataSource:a,columns:i,size:"middle",title:function(){return r.a.createElement("h3",null,"Delivery Items")}})))}}]),t}(n.Component),Za={"Content-Type":"application/json"};j.getToken()&&(Za.Authorization="Bearer ".concat(j.getToken()));var Ha=q.a.Search,$a=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),en=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault(),e.stopPropagation(),a.props.form.validateFields(function(e,t){e||(a.props.showSearchLoading(!0),K.a.post("/lot-numbers/filter",t,{headers:Za}).then(function(e){e.data&&a.props.onSearchResults(e.data.data)}))})},a.handleReset=function(e){a.props.form.resetFields(),a.handleSearch(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.onAddItem,n=t.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSearch,layout:"inline"},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:6},md:{span:12}},n("lotNumber")(r.a.createElement(Ha,{placeholder:"LOT Number(Merge)"}))),r.a.createElement(le.a,Object.assign({},$a,{xl:{span:18},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset")),r.a.createElement(U.a,{type:"dashed",onClick:a},"Create")))))}}]),t}(n.Component),tn=P.a.create()(en),an={"Content-Type":"application/json"};j.getToken()&&(an.Authorization="Bearer ".concat(j.getToken()));var nn=P.a.Item,rn=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={lotNumbers:[],loading:!0,modalVisible:!1,modalType:"create",currentItem:{}},a.handleReset=function(){var e=a.props.form,t=e.getFieldsValue,n=e.setFieldsValue,r=t();for(var i in r)({}).hasOwnProperty.call(r,i)&&(r[i]instanceof Array?r[i]=[]:r[i]=void 0);n(r),a.handleSubmit()},a.showModal=function(){a.setState({modalVisible:!0})},a.showEditModal=function(e){a.setState({modalVisible:!0,currentItem:e,modalType:"update"})},a.handleRefresh=function(){a.setState({loading:!0}),K.a.get("/lot-numbers",{headers:an}).then(function(e){e.data&&a.setState({lotNumbers:e.data.data,loading:!1})}).catch(function(e){return console.log(e)})},a.handleCancel=function(){a.setState({modalVisible:!1})},a.handleModalSubmit=function(e){e.preventDefault();var t=a.props.form,n=a.state.currentItem,r=n?n._id:"";t.validateFields(function(e,n){e||(r?K.a.put("/lot-numbers/"+r,n,{headers:an}).then(function(){t.resetFields(),a.setState({modalVisible:!1,modalType:"create"}),a.handleRefresh()}):K.a.post("/lot-numbers",n,{headers:an}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.handleRefresh()}))})},a.handleDelete=function(e){K.a.delete("/lot-numbers/"+e,{headers:an}).then(function(){a.handleRefresh()})},a.deleteItem=function(e){Ee.a.confirm({title:"Delete LOT Number(Merge)",content:"Do you want to delete this lot number?",onOk:function(){return a.handleDelete(e._id)}})},a.handleMenuClick=function(e,t){"edit"===t.key?(a.setState({currentItem:e}),a.showEditModal(e)):"delete"===t.key&&a.deleteItem(e)},a.showSearchLoading=function(e){a.setState({loading:e})},a.handleSearchResults=function(e){a.setState({suppliers:e,loading:!1})},a.saveFormRef=function(e){a.formRef=e},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/lot-numbers",{headers:an}).then(function(e){return e.json()}).then(function(t){e.setState({lotNumbers:t.data,loading:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.lotNumbers,n=t.loading,i=t.currentItem,l=void 0===i?{}:i,o=t.modalType,s=t.modalVisible,c=this.props.form.getFieldDecorator,d=[{title:"LOT Number(Merge)",dataIndex:"lotNumber",key:"lotNumber"},{title:"Operation",key:"operation",render:function(t,a){return r.a.createElement(Ie,{onMenuClick:function(t){return e.handleMenuClick(a,t)},menuOptions:[{key:"edit",name:"Edit"},{key:"delete",name:"Delete"}]})}}],u={item:"create"===o?{}:l,visible:s,maskClosable:!1,title:"create"===o?"Create LOT Number(Merge)":"Update LOT Number(Merge)",centered:!0,onOk:function(e){var t=this;K.a.post("/lot-numbers",e,{headers:an}).then(function(){t.handleRefresh()})}};return r.a.createElement("div",null,r.a.createElement(tn,{showSearchLoading:this.showSearchLoading,onSearchResults:this.handleSearchResults,onAddItem:this.showModal}),r.a.createElement(ce.a,{bordered:!0,loading:n,rowKey:"_id",columns:d,dataSource:a,size:"middle",pagination:{pageSize:25},scroll:{x:1e3}}),r.a.createElement(Ee.a,Object.assign({},u,{onCancel:this.handleCancel,onOk:this.handleModalSubmit}),r.a.createElement(P.a,{onSubmit:e.handleSubmit},r.a.createElement(nn,Object.assign({label:"LOT Number(Merge)",hasFeedback:!0},e.formLayout),c("lotNumber",{initialValue:l.firstName,rules:[{required:!0}]})(r.a.createElement(q.a,{placeholder:"LOT Number"}))))))}}]),t}(n.Component),ln=P.a.create()(rn),on={"Content-Type":"application/json"};j.getToken()&&(on.Authorization="Bearer ".concat(j.getToken()));re.a.CheckableTag;var sn=P.a.Item,cn=Object(ee.a)({},{xs:24,sm:12,style:{marginBottom:16}},{xl:96}),dn=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={bins:[],lotNumbers:[],materials:[],currentItem:{},searchValue:"",modalVisible:!1,loading:!1},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.searchBins=function(e){a.setState({loading:!0,searchValue:e}),K.a.get("/bins/search".concat(e),{headers:on}).then(function(e){e.data&&a.setState({bins:e.data.data,loading:!1})})},a.getLotNumbers=function(){a.setState({loading:!0}),K.a.get("/lot-numbers",{headers:on}).then(function(e){e.data&&a.setState({lotNumbers:e.data.data,loading:!1})})},a.getMaterials=function(){a.setState({loading:!0}),K.a.get("/item-categories",{headers:on}).then(function(e){e.data&&a.setState({materials:e.data.data,loading:!1})})},a.handleSearch=function(e){e.preventDefault(),e.stopPropagation();var t="",n=a.props.form.getFieldsValue(["code"]).code,r=a.props.form.getFieldsValue(["lotNumber"]).lotNumber,i=a.props.form.getFieldsValue(["itemCode"]).itemCode;n&&(t+=-1===t.indexOf("?")?"?":"&",t+="code=".concat(encodeURIComponent(n))),r&&(t+=-1===t.indexOf("?")?"?":"&",t+="lotNumber=".concat(encodeURIComponent(r))),i&&(t+=-1===t.indexOf("?")?"?":"&",t+="itemCode=".concat(encodeURIComponent(i))),a.searchBins(t)},a.handleReset=function(e){a.props.form.resetFields(),a.searchBins("")},a.handleItemClick=function(e){a.setState({modalVisible:!0,currentItem:e})},a.handleCancel=function(){a.setState({modalVisible:!1,currentItem:{}})},a.handleModalSubmit=function(e){e.preventDefault();var t=a.props.form,n=a.state.currentItem;t.validateFields(function(e,r){e||K.a.put("/bins/".concat(n.bin,"/stocks/").concat(n._id),r,{headers:on}).then(function(){t.resetFields(),a.setState({modalVisible:!1}),a.searchBins(a.state.searchValue)})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.searchBins("")}},{key:"render",value:function(){var e=this,t=this.state,a=t.bins,n=t.lotNumbers,i=t.materials,l=t.loading,o=t.currentItem,s=t.modalVisible,c=this.props.form.getFieldDecorator,d={item:o,visible:s,maskClosable:!1,title:"Update Stock - [".concat(o.lotNumber,"]::[").concat(o.itemCode,"]::[").concat(o.runningNumber,"]"),centered:!0};return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{tip:"Loading...",spinning:l},r.a.createElement(P.a,{onSubmit:this.handleSearch},r.a.createElement(W.a,{gutter:24},r.a.createElement(le.a,{xl:{span:4},md:{span:4}},c("code")(r.a.createElement(ae.a,{dataSource:a.map(function(e){return e.code}),filterOption:!0,placeholder:"Bin code"},r.a.createElement(q.a,{suffix:r.a.createElement(S.a,{type:"search"})})))),r.a.createElement(le.a,{xl:{span:4},md:{span:4}},c("lotNumber")(r.a.createElement(ae.a,{dataSource:n.map(function(e){return e.lotNumber}),filterOption:!0,placeholder:"LOT Number(Merge)"},r.a.createElement(q.a,{suffix:r.a.createElement(S.a,{type:"search"})})))),r.a.createElement(le.a,{xl:{span:4},md:{span:4}},c("itemCode")(r.a.createElement(ae.a,{dataSource:i.map(function(e){return e.code}),filterOption:!0,placeholder:"Material Code"},r.a.createElement(q.a,{suffix:r.a.createElement(S.a,{type:"search"})})))),r.a.createElement(le.a,Object.assign({},cn,{xl:{span:12},md:{span:12}}),r.a.createElement(W.a,{type:"flex",align:"middle",justify:"space-between"},r.a.createElement("div",null,r.a.createElement(U.a,{type:"primary",className:"margin-right",onClick:this.handleSearch},"Search"),r.a.createElement(U.a,{onClick:this.handleReset},"Reset")))))),r.a.createElement("div",null,r.a.createElement(ua.a,{grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:6,xxl:3},dataSource:a,renderItem:function(t){return r.a.createElement(ua.a.Item,null,r.a.createElement(ie.a,{title:t.code,bodyStyle:{padding:2}},r.a.createElement(U.a.Group,null,t.stockItems.map(function(t){return function(t){var a="#bae637";return"PENDING"===t.detailsStatus?a="#ffa940":"RESERVED"===t.status&&(a="#9254de"),r.a.createElement(U.a,{size:"small",key:t._id,onClick:function(a){a.preventDefault(),"PENDING"===t.detailsStatus&&e.handleItemClick(t)},style:{margin:2,backgroundColor:a}},t.runningNumber)}(t)}))))}})),r.a.createElement(Ee.a,Object.assign({},d,{onCancel:this.handleCancel,onOk:this.handleModalSubmit}),r.a.createElement(P.a,{onSubmit:e.handleSubmit},r.a.createElement(sn,Object.assign({label:"Net Weight",hasFeedback:!0},e.formLayout),c("netWeight",{initialValue:o.netWeight,rules:[{required:!0}]})(r.a.createElement(ne.a,{placeholder:"Net Weight"}))),r.a.createElement(sn,Object.assign({label:"Gross Weight",hasFeedback:!0},e.formLayout),c("grossWeight",{initialValue:o.grossWeight,rules:[{required:!0}]})(r.a.createElement(ne.a,{placeholder:"Gross Weight"}))),r.a.createElement(sn,Object.assign({label:"Cones",hasFeedback:!0},e.formLayout),c("cones",{initialValue:o.cones,rules:[{required:!0}]})(r.a.createElement(ne.a,{placeholder:"#of Cones"})))))))}}]),t}(n.Component),un=P.a.create()(dn),mn=(a(422),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/"},r.a.createElement(f.a,{to:"/dashboard"})),r.a.createElement(b,{path:"/login",component:Z}),r.a.createElement(V,{path:"/dashboard",component:H}),r.a.createElement(V,{path:"/purchase-orders/stock-update/:id",component:ga}),r.a.createElement(V,{path:"/purchase-orders/stocks-print/:id",component:va}),r.a.createElement(V,{path:"/purchase-orders/add",component:ca}),r.a.createElement(V,{path:"/purchase-orders/edit/:id",component:ca}),r.a.createElement(V,{path:"/purchase-orders/good-received",component:ra}),r.a.createElement(V,{path:"/purchase-orders/list",component:aa}),r.a.createElement(V,{path:"/purchase-orders/view/:id",component:Ia}),r.a.createElement(V,{path:"/items",component:ze}),r.a.createElement(V,{path:"/material-request/view/:id",component:we}),r.a.createElement(V,{path:"/material-request/list",component:xe}),r.a.createElement(V,{path:"/material-request/add",component:be}),r.a.createElement(V,{path:"/suppliers",component:tt}),r.a.createElement(V,{path:"/shipment-modes",component:dt}),r.a.createElement(V,{path:"/packing-types",component:bt}),r.a.createElement(V,{path:"/measuring-types",component:Ct}),r.a.createElement(V,{path:"/delivery-requests",component:Aa}),r.a.createElement(V,{path:"/deliveries/add/:id",component:Ka}),r.a.createElement(V,{path:"/deliveries/edit/:id",component:Qa}),r.a.createElement(V,{path:"/deliveries/view/:id",component:Xa}),r.a.createElement(V,{path:"/deliveries",component:Wa}),r.a.createElement(V,{path:"/lot-numbers",component:ln}),r.a.createElement(V,{path:"/stocks",component:un}),r.a.createElement(V,{path:"/roles",component:Tt}),r.a.createElement(V,{path:"/users",component:zt})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(mn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[217,1,2]]]);
//# sourceMappingURL=main.0e48f475.chunk.js.map